00:00 +0: loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_selection_page_test.dart                                                  00:00 +0 -1: loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_selection_page_test.dart [E]                                           
  Failed to load "/Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_selection_page_test.dart":
  Compilation failed for testPath=/Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_selection_page_test.dart: lib/screens/management/currency_selection_page.dart:80:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/screens/management/currency_selection_page.dart:161:33: Error: Not a constant expression.
                child: const Text(currency.flag ?? currency.symbol,
                                  ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:161:50: Error: Not a constant expression.
                child: const Text(currency.flag ?? currency.symbol,
                                                   ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:162:57: Error: Not a constant expression.
                    style: TextStyle(fontSize: 20, color: cs.onSurface)),
                                                          ^^
  lib/screens/management/currency_selection_page.dart:179:37: Error: Not a constant expression.
                            fontSize: dense ? 10 : 11,
                                      ^^^^^
  lib/screens/management/currency_selection_page.dart:180:34: Error: Not a constant expression.
                            color: cs.onTertiaryContainer,
                                   ^^
  lib/screens/management/currency_selection_page.dart:183:26: Error: Not a constant expression.
                const Text(currency.code,
                           ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:192:35: Error: Not a constant expression.
                  child: const Text(currency.symbol,
                                    ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:193:48: Error: Not a constant expression.
                      style: TextStyle(fontSize: dense ? 11 : 12)),
                                                 ^^^^^
  lib/screens/management/currency_selection_page.dart:197:32: Error: Not a constant expression.
            subtitle: const Text(currency.nameZh,
                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:199:29: Error: Not a constant expression.
                    fontSize: dense ? 12 : 13, color: cs.onSurfaceVariant)),
                              ^^^^^
  lib/screens/management/currency_selection_page.dart:199:53: Error: Not a constant expression.
                    fontSize: dense ? 12 : 13, color: cs.onSurfaceVariant)),
                                                      ^^
  lib/screens/management/currency_selection_page.dart:229:15: Error: Not a constant expression.
                currency.flag ?? currency.symbol,
                ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:229:32: Error: Not a constant expression.
                currency.flag ?? currency.symbol,
                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:230:53: Error: Not a constant expression.
                style: TextStyle(fontSize: 20, color: cs.onSurface),
                                                      ^^
  lib/screens/management/currency_selection_page.dart:249:31: Error: Not a constant expression.
                      fontSize: dense ? 10 : 11,
                                ^^^^^
  lib/screens/management/currency_selection_page.dart:250:28: Error: Not a constant expression.
                      color: cs.onTertiaryContainer,
                             ^^
  lib/screens/management/currency_selection_page.dart:262:25: Error: Not a constant expression.
                          currency.code,
                          ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:278:43: Error: Not a constant expression.
                          child: const Text(currency.symbol,
                                            ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:279:56: Error: Not a constant expression.
                              style: TextStyle(fontSize: dense ? 11 : 12)),
                                                         ^^^^^
  lib/screens/management/currency_selection_page.dart:283:30: Error: Not a constant expression.
                    const Text(currency.nameZh,
                               ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:285:37: Error: Not a constant expression.
                            fontSize: dense ? 12 : 13,
                                      ^^^^^
  lib/screens/management/currency_selection_page.dart:286:34: Error: Not a constant expression.
                            color: cs.onSurfaceVariant)),
                                   ^^
  lib/screens/management/currency_selection_page.dart:296:46: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                               ^^^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:296:36: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                     ^^^
  lib/screens/management/currency_selection_page.dart:296:40: Error: Method invocation is not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                         ^^^^^
  lib/screens/management/currency_selection_page.dart:296:78: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                                                               ^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:296:90: Error: Method invocation is not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                                                                           ^^^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:296:112: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                                                                                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:298:45: Error: Not a constant expression.
                                    fontSize: dense ? 11 : 12,
                                              ^^^^^
  lib/screens/management/currency_selection_page.dart:299:42: Error: Not a constant expression.
                                    color: cs.onSurface),
                                           ^^
  lib/screens/management/currency_selection_page.dart:343:74: Error: Not a constant expression.
                            const Icon(Icons.trending_up, size: 16, color: cs.primary),
                                                                           ^^
  lib/screens/management/currency_selection_page.dart:367:44: Error: Not a constant expression.
                                      color: cs.onTertiaryContainer),
                                             ^^
  lib/screens/management/currency_selection_page.dart:399:49: Error: Not a constant expression.
                            const SizedBox(width: dense ? 8 : 12),
                                                  ^^^^^
  lib/screens/management/currency_selection_page.dart:497:41: Error: Not a constant expression.
                                    size: dense ? 14 : 16, color: cs.tertiary),
                                          ^^^^^
  lib/screens/management/currency_selection_page.dart:497:65: Error: Not a constant expression.
                                    size: dense ? 14 : 16, color: cs.tertiary),
                                                                  ^^
  lib/screens/management/currency_selection_page.dart:500:59: Error: Not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                            ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:45: Error: Not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                              ^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:75: Error: Method invocation is not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                            ^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:85: Error: Method invocation is not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                                      ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:96: Error: Method invocation is not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                                                 ^^^^^
  lib/screens/management/currency_selection_page.dart:502:47: Error: Not a constant expression.
                                      fontSize: dense ? 11 : 12,
                                                ^^^^^
  lib/screens/management/currency_selection_page.dart:503:44: Error: Not a constant expression.
                                      color: cs.tertiary),
                                             ^^
  lib/screens/management/currency_selection_page.dart:525:11: Error: Not a constant expression.
            widget.isSelectingBaseCurrency ? '选择基础货币' : '管理法定货币',
            ^^^^^^
  lib/screens/management/currency_selection_page.dart:550:32: Error: Not a constant expression.
                icon: const Icon(_compact
                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:615:37: Error: Not a constant expression.
                      color: Theme.of(context).colorScheme.onPrimaryContainer),
                                      ^^^^^^^
  lib/screens/management/currency_selection_page.dart:615:34: Error: Method invocation is not a constant expression.
                      color: Theme.of(context).colorScheme.onPrimaryContainer),
                                   ^^
  lib/screens/management/currency_selection_page.dart:615:46: Error: Not a constant expression.
                      color: Theme.of(context).colorScheme.onPrimaryContainer),
                                               ^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:619:21: Error: Not a constant expression.
                      widget.isSelectingBaseCurrency
                      ^^^^^^
  lib/screens/management/currency_selection_page.dart:625:38: Error: Not a constant expression.
                              Theme.of(context).colorScheme.onPrimaryContainer),
                                       ^^^^^^^
  lib/screens/management/currency_selection_page.dart:625:35: Error: Method invocation is not a constant expression.
                              Theme.of(context).colorScheme.onPrimaryContainer),
                                    ^^
  lib/screens/management/currency_selection_page.dart:625:47: Error: Not a constant expression.
                              Theme.of(context).colorScheme.onPrimaryContainer),
                                                ^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:665:40: Error: Not a constant expression.
                        '已选择 ${ref.watch(selectedCurrenciesProvider).length} 种货币',
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:665:30: Error: Not a constant expression.
                        '已选择 ${ref.watch(selectedCurrenciesProvider).length} 种货币',
                               ^^^
  lib/screens/management/currency_selection_page.dart:665:34: Error: Method invocation is not a constant expression.
                        '已选择 ${ref.watch(selectedCurrenciesProvider).length} 种货币',
                                   ^^^^^
  lib/screens/management/currency_selection_page.dart:668:43: Error: Not a constant expression.
                            color: Theme.of(context).colorScheme.onSurface),
                                            ^^^^^^^
  lib/screens/management/currency_selection_page.dart:668:40: Error: Method invocation is not a constant expression.
                            color: Theme.of(context).colorScheme.onSurface),
                                         ^^
  lib/screens/management/currency_selection_page.dart:668:52: Error: Not a constant expression.
                            color: Theme.of(context).colorScheme.onSurface),
                                                     ^^^^^^^^^^^
  lib/widgets/source_badge.dart:30:21: Error: Not a constant expression.
            fontSize: fontSize,
                      ^^^^^^^^
  lib/widgets/source_badge.dart:31:18: Error: Not a constant expression.
            color: color,
                   ^^^^^
  lib/widgets/source_badge.dart:28:9: Error: Not a constant expression.
          label,
          ^^^^^
  .

To run this test again: /Users/huazhou/flutter-sdk/bin/cache/dart-sdk/bin/dart test /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_selection_page_test.dart -p vm --plain-name 'loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_selection_page_test.dart'
  Error: The Dart compiler exited unexpectedly.
  package:flutter_tools/src/base/common.dart 34:3  throwToolExit
  package:flutter_tools/src/compile.dart 910:11    DefaultResidentCompiler._compile.<fn>
  dart:async/zone.dart 1538:47                     _rootRunUnary
  dart:async/zone.dart 1429:19                     _CustomZone.runUnary
  dart:async/future_impl.dart 948:45               Future._propagateToListeners.handleValueCallback
  dart:async/future_impl.dart 977:13               Future._propagateToListeners
  dart:async/future_impl.dart 862:9                Future._propagateToListeners
  dart:async/future_impl.dart 720:5                Future._completeWithValue
  dart:async/future_impl.dart 804:7                Future._asyncCompleteWithValue.<fn>
  dart:async/zone.dart 1525:13                     _rootRun
  dart:async/zone.dart 1422:19                     _CustomZone.run
  dart:async/zone.dart 1321:7                      _CustomZone.runGuarded
  dart:async/zone.dart 1362:23                     _CustomZone.bindCallbackGuarded.<fn>
  dart:async/schedule_microtask.dart 40:35         _microtaskLoop
  dart:async/schedule_microtask.dart 49:5          _startMicrotaskLoop
  dart:isolate-patch/isolate_patch.dart 127:13     _runPendingImmediateCallback
  dart:isolate-patch/isolate_patch.dart 194:5      _RawReceivePort._handleMessage
  
00:02 +0 -1: loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_notifier_meta_test.dart                                                00:02 +0 -1: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_notifier_meta_test.dart: (setUpAll)                                            00:02 +0 -1: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_notifier_quiet_test.dart: ... first load; explicit refresh triggers second     00:02 +1 -1: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_notifier_meta_test.dart: ... initial usingFallback true when first fetch throws00:02 +2 -1: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_notifier_quiet_test.dart: initialize() is idempotent                           00:02 +3 -1: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_notifier_quiet_test.dart: initialize() is idempotent                           00:02 +3 -1: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_notifier_quiet_test.dart: (tearDownAll)                                        00:02 +3 -2: loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/widget_test.dart [E]                                                            
  Failed to load "/Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/widget_test.dart":
  Compilation failed for testPath=/Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/widget_test.dart: lib/screens/dashboard/dashboard_screen.dart:349:12: Error: Expected ';' after this.
    IconData _getLedgerconst Icon(String type) {
             ^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:454:12: Error: Expected ';' after this.
    IconData _getCategoryconst Icon(String? category) {
             ^^^^^^^^^^^^^^^^^
  lib/screens/settings/settings_screen.dart:615:12: Error: Expected ';' after this.
    IconData _getLedgerconst Icon(String type) {
             ^^^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:643:12: Error: Expected ';' after this.
    IconData _getTypeconst Icon(LedgerType type) {
             ^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:411:12: Error: Expected ';' after this.
    IconData _getCategoryconst Icon(String? category) {
             ^^^^^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:358:12: Error: Expected ';' after this.
    IconData _getLedgerconst Icon(LedgerType type) {
             ^^^^^^^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:165:12: Error: Expected ';' after this.
    IconData _getconst Icon() {
             ^^^^^^^^^
  lib/models/transaction.dart:192:12: Error: Expected ';' after this.
    IconData getCategoryconst Icon() {
             ^^^^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:96:12: Error: Expected ';' after this.
    IconData _getTypeconst Icon(LedgerType type) {
             ^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:88:10: Error: Expected ';' after this.
    Widget _getCryptoconst Icon(String code) {
           ^^^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:543:12: Error: Expected ';' after this.
    IconData _getGroupconst Icon(String? iconKey) {
             ^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:451:12: Error: Expected ';' after this.
    IconData _getGroupconst Icon(String? iconKey) {
             ^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:399:12: Error: Expected ';' after this.
    IconData _getStatusconst Icon(InvitationStatus status) {
             ^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:488:12: Error: Expected ';' after this.
    IconData _getRoleconst Icon(family_model.FamilyRole role) {
             ^^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:279:10: Error: Expected ';' after this.
    Widget _buildCategoryconst Icon(ThemeData theme) {
           ^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:116:43: Error: Not a constant expression.
                content: const Text('欢迎回来，${authState.user?.name ?? '用户'}！'),
                                            ^^^^^^^^^
  lib/screens/auth/login_screen.dart:116:53: Error: Not a constant expression.
                content: const Text('欢迎回来，${authState.user?.name ?? '用户'}！'),
                                                      ^^^^
  lib/screens/auth/login_screen.dart:131:35: Error: Not a constant expression.
                content: const Text(authState.errorMessage ?? '登录失败'),
                                    ^^^^^^^^^
  lib/screens/auth/login_screen.dart:144:46: Error: Not a constant expression.
              content: const Text('登录过程中发生错误: $e'),
                                               ^
  lib/screens/auth/login_screen.dart:241:29: Error: Not a constant expression.
                              _isPasswordVisible
                              ^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:385:35: Error: Not a constant expression.
                                    _rememberPermanently
                                    ^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:389:42: Error: Not a constant expression.
                                    color: _rememberPermanently
                                           ^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:396:37: Error: Not a constant expression.
                                      _rememberPermanently
                                      ^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:401:46: Error: Not a constant expression.
                                        color: _rememberPermanently
                                               ^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:404:51: Error: Not a constant expression.
                                        fontWeight: _rememberPermanently
                                                    ^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:442:36: Error: Not a constant expression.
                          onPressed: _isLoading ? null : _login,
                                     ^^^^^^^^^^
  lib/screens/auth/login_screen.dart:442:56: Error: Not a constant expression.
                          onPressed: _isLoading ? null : _login,
                                                         ^^^^^^
  lib/screens/auth/login_screen.dart:443:47: Error: Method invocation is not a constant expression.
                          style: ElevatedButton.styleFrom(
                                                ^^^^^^^^^
  lib/screens/auth/login_screen.dart:447:32: Error: Not a constant expression.
                          child: _isLoading
                                 ^^^^^^^^^^
  lib/screens/auth/login_screen.dart:511:54: Error: Not a constant expression.
                                    const Text('欢迎回来，${result.userData?.username}！'),
                                                       ^^^^^^
  lib/screens/auth/login_screen.dart:511:61: Error: Not a constant expression.
                                    const Text('欢迎回来，${result.userData?.username}！'),
                                                              ^^^^^^^^
  lib/screens/auth/login_screen.dart:519:51: Error: Not a constant expression.
                                content: const Text(result.message ?? '微信登录失败'),
                                                    ^^^^^^
  lib/screens/auth/login_screen.dart:528:59: Error: Not a constant expression.
                              content: const Text('微信登录失败: $error'),
                                                            ^^^^^
  lib/screens/auth/register_screen.dart:84:35: Error: Not a constant expression.
                content: const Text(result.message ?? '注册成功！请使用您的账户登录'),
                                    ^^^^^^
  lib/screens/auth/register_screen.dart:93:35: Error: Not a constant expression.
                content: const Text(result.message ?? '注册失败'),
                                    ^^^^^^
  lib/screens/auth/register_screen.dart:103:46: Error: Not a constant expression.
              content: const Text('注册过程中发生错误: $e'),
                                               ^
  lib/screens/auth/register_screen.dart:232:29: Error: Not a constant expression.
                              _isPasswordVisible
                              ^^^^^^^^^^^^^^^^^^
  lib/screens/auth/register_screen.dart:274:29: Error: Not a constant expression.
                              _isConfirmPasswordVisible
                              ^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/register_screen.dart:332:36: Error: Not a constant expression.
                          onPressed: _isLoading ? null : _register,
                                     ^^^^^^^^^^
  lib/screens/auth/register_screen.dart:332:56: Error: Not a constant expression.
                          onPressed: _isLoading ? null : _register,
                                                         ^^^^^^^^^
  lib/screens/auth/register_screen.dart:333:47: Error: Method invocation is not a constant expression.
                          style: ElevatedButton.styleFrom(
                                                ^^^^^^^^^
  lib/screens/auth/register_screen.dart:337:32: Error: Not a constant expression.
                          child: _isLoading
                                 ^^^^^^^^^^
  lib/screens/auth/register_screen.dart:386:59: Error: Not a constant expression.
                              content: const Text('微信注册失败: $error'),
                                                            ^^^^^
  lib/screens/auth/register_screen.dart:529:13: Error: Not a constant expression.
              isMet ? Icons.check_circle : Icons.radio_button_unchecked,
              ^^^^^
  lib/screens/auth/register_screen.dart:531:20: Error: Not a constant expression.
              color: isMet ? Colors.green : Colors.grey,
                     ^^^^^
  lib/screens/auth/register_screen.dart:538:22: Error: Not a constant expression.
                color: isMet ? Colors.green : Colors.grey,
                       ^^^^^
  lib/screens/auth/register_screen.dart:535:13: Error: Not a constant expression.
              text,
              ^^^^
  lib/screens/auth/registration_wizard.dart:178:41: Error: Not a constant expression.
              content: const Text('注册失败: $e'),
                                          ^
  lib/screens/auth/registration_wizard.dart:309:31: Error: Not a constant expression.
                                _currentPage < 2 ? '下一步' : '完成注册',
                                ^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:425:21: Error: Not a constant expression.
                      _isPasswordVisible
                      ^^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:477:21: Error: Not a constant expression.
                      _isConfirmPasswordVisible
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:716:40: Error: Not a constant expression.
                      _getCurrencySymbol(_selectedCurrency) + '2,325.25',
                                         ^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:716:21: Error: Not a constant expression.
                      _getCurrencySymbol(_selectedCurrency) + '2,325.25',
                      ^^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:727:48: Error: Not a constant expression.
                          '+${_getCurrencySymbol(_selectedCurrency)}78.90',
                                                 ^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:727:29: Error: Not a constant expression.
                          '+${_getCurrencySymbol(_selectedCurrency)}78.90',
                              ^^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:734:50: Error: Not a constant expression.
                          ' (+${_getCurrencySymbol(_selectedCurrency)}6.39)',
                                                   ^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:734:31: Error: Not a constant expression.
                          ' (+${_getCurrencySymbol(_selectedCurrency)}6.39)',
                                ^^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:741:47: Error: Not a constant expression.
                          ' as of ${_formatDate(_selectedDateFormat)}',
                                                ^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:741:35: Error: Not a constant expression.
                          ' as of ${_formatDate(_selectedDateFormat)}',
                                    ^^^^^^^^^^^
  lib/screens/auth/registration_wizard.dart:980:11: Error: Not a constant expression.
            met ? Icons.check_circle : Icons.radio_button_unchecked,
            ^^^
  lib/screens/auth/registration_wizard.dart:982:18: Error: Not a constant expression.
            color: met ? Colors.green : Colors.grey[600],
                   ^^^
  lib/screens/auth/registration_wizard.dart:989:20: Error: Not a constant expression.
              color: met ? Colors.green : Colors.grey[600],
                     ^^^
  lib/screens/auth/registration_wizard.dart:986:11: Error: Not a constant expression.
            text,
            ^^^^
  lib/screens/auth/registration_wizard.dart:1008:27: Error: Not a constant expression.
          child: const Text(country['name']),
                            ^^^^^^^
  lib/screens/auth/registration_wizard.dart:1025:30: Error: Not a constant expression.
          child: const Text('${currency['name']} (${currency['symbol']})'),
                               ^^^^^^^^
  lib/screens/auth/registration_wizard.dart:1025:51: Error: Not a constant expression.
          child: const Text('${currency['name']} (${currency['symbol']})'),
                                                    ^^^^^^^^
  lib/screens/auth/registration_wizard.dart:1042:27: Error: Not a constant expression.
          child: const Text(language['name']),
                            ^^^^^^^^
  lib/screens/auth/registration_wizard.dart:1119:11: Error: Not a constant expression.
            tz['display'] as String,
            ^^
  lib/screens/auth/registration_wizard.dart:1139:27: Error: Not a constant expression.
          child: const Text(format['example']),
                            ^^^^^^
  lib/screens/home/home_screen.dart:73:36: Error: Not a constant expression.
                    icon: const Icon(item.icon),
                                     ^^^^
  lib/screens/home/home_screen.dart:208:24: Error: Not a constant expression.
                  color: color,
                         ^^^^^
  lib/screens/home/home_screen.dart:207:17: Error: Not a constant expression.
                  icon,
                  ^^^^
  lib/screens/home/home_screen.dart:216:24: Error: Not a constant expression.
                  color: color,
                         ^^^^^
  lib/screens/home/home_screen.dart:214:15: Error: Not a constant expression.
                label,
                ^^^^^
  lib/screens/dashboard/dashboard_screen.dart:31:17: Error: Not a constant expression.
                  currentLedger.name,
                  ^^^^^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:32:33: Error: Not a constant expression.
                  style: Theme.of(context).textTheme.bodySmall,
                                  ^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:32:30: Error: Method invocation is not a constant expression.
                  style: Theme.of(context).textTheme.bodySmall,
                               ^^
  lib/screens/dashboard/dashboard_screen.dart:32:42: Error: Not a constant expression.
                  style: Theme.of(context).textTheme.bodySmall,
                                           ^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:122:35: Error: Not a constant expression.
                    style: Theme.of(context).textTheme.titleMedium?.copyWith(
                                    ^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:122:32: Error: Method invocation is not a constant expression.
                    style: Theme.of(context).textTheme.titleMedium?.copyWith(
                                 ^^
  lib/screens/dashboard/dashboard_screen.dart:122:44: Error: Not a constant expression.
                    style: Theme.of(context).textTheme.titleMedium?.copyWith(
                                             ^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:122:67: Error: Method invocation is not a constant expression.
                    style: Theme.of(context).textTheme.titleMedium?.copyWith(
                                                                    ^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:140:33: Error: Not a constant expression.
                  style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  ^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:140:30: Error: Method invocation is not a constant expression.
                  style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                               ^^
  lib/screens/dashboard/dashboard_screen.dart:140:42: Error: Not a constant expression.
                  style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                           ^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:140:68: Error: Method invocation is not a constant expression.
                  style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                                                     ^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:139:17: Error: Not a constant expression.
                  formatted,
                  ^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:189:11: Error: Not a constant expression.
            label,
            ^^^^^
  lib/screens/dashboard/dashboard_screen.dart:208:15: Error: Not a constant expression.
                amount,
                ^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:228:27: Error: Not a constant expression.
            style: Theme.of(context).textTheme.titleLarge?.copyWith(
                            ^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:228:24: Error: Method invocation is not a constant expression.
            style: Theme.of(context).textTheme.titleLarge?.copyWith(
                         ^^
  lib/screens/dashboard/dashboard_screen.dart:228:36: Error: Not a constant expression.
            style: Theme.of(context).textTheme.titleLarge?.copyWith(
                                     ^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:228:58: Error: Method invocation is not a constant expression.
            style: Theme.of(context).textTheme.titleLarge?.copyWith(
                                                           ^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:227:11: Error: Not a constant expression.
            title,
            ^^^^^
  lib/screens/dashboard/dashboard_screen.dart:283:33: Error: Not a constant expression.
                  style: Theme.of(context).textTheme.titleLarge?.copyWith(
                                  ^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:283:30: Error: Method invocation is not a constant expression.
                  style: Theme.of(context).textTheme.titleLarge?.copyWith(
                               ^^
  lib/screens/dashboard/dashboard_screen.dart:283:42: Error: Not a constant expression.
                  style: Theme.of(context).textTheme.titleLarge?.copyWith(
                                           ^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:283:64: Error: Method invocation is not a constant expression.
                  style: Theme.of(context).textTheme.titleLarge?.copyWith(
                                                                 ^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:292:29: Error: Not a constant expression.
                  icon: const Icon(Icons.settings),
                              ^^^^
  lib/screens/dashboard/dashboard_screen.dart:308:39: Error: Expected ',' before this.
                        _getLedgerconst Icon(ledger.type.value),
                                        ^^^^
  lib/screens/dashboard/dashboard_screen.dart:308:44: Error: Not a constant expression.
                        _getLedgerconst Icon(ledger.type.value),
                                             ^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:308:51: Error: Not a constant expression.
                        _getLedgerconst Icon(ledger.type.value),
                                                    ^^^^
  lib/screens/dashboard/dashboard_screen.dart:309:30: Error: Not a constant expression.
                        color: isSelected ? Colors.white : Colors.grey[600],
                               ^^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:308:23: Error: Not a constant expression.
                        _getLedgerconst Icon(ledger.type.value),
                        ^^^^^^^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:308:39: Error: Not a constant expression.
                        _getLedgerconst Icon(ledger.type.value),
                                        ^^^^
  lib/screens/dashboard/dashboard_screen.dart:307:34: Error: Not a constant expression.
                      child: const Icon(
                                   ^^^^
  lib/screens/dashboard/dashboard_screen.dart:312:37: Error: Not a constant expression.
                    title: const Text(ledger.name),
                                      ^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:313:40: Error: Not a constant expression.
                    subtitle: const Text(ledger.description ?? ''),
                                         ^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:317:43: Error: Not a constant expression.
                            color: Theme.of(context).primaryColor,
                                            ^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:317:40: Error: Method invocation is not a constant expression.
                            color: Theme.of(context).primaryColor,
                                         ^^
  lib/screens/dashboard/dashboard_screen.dart:315:31: Error: Not a constant expression.
                        ? const Icon(
                                ^^^^
  lib/screens/dashboard/dashboard_screen.dart:330:67: Error: Not a constant expression.
              error: (error, _) => Center(child: const Text('加载失败: $error')),
                                                                    ^^^^^
  lib/screens/dashboard/dashboard_screen.dart:337:31: Error: Not a constant expression.
                  Navigator.pop(context);
                                ^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:337:27: Error: Method invocation is not a constant expression.
                  Navigator.pop(context);
                            ^^^
  lib/screens/dashboard/dashboard_screen.dart:336:26: Error: Not a constant expression.
                onPressed: () {
                           ^^
  lib/screens/dashboard/dashboard_screen.dart:340:27: Error: Not a constant expression.
                icon: const Icon(Icons.add),
                            ^^^^
  lib/screens/dashboard/dashboard_screen.dart:335:35: Error: Cannot invoke a non-'const' factory where a const expression is expected.
  Try using a constructor or factory that is 'const'.
              child: OutlinedButton.icon(
                                    ^^^^
  lib/screens/transactions/transactions_screen.dart:95:29: Error: Expected ',' before this.
              Selectableconst Text('加载失败: $errorText'),
                              ^^^^
  lib/screens/transactions/transactions_screen.dart:95:13: Error: The getter 'Selectableconst' isn't defined for the type '_TransactionsScreenState'.
   - '_TransactionsScreenState' is from 'package:jive_money/screens/transactions/transactions_screen.dart' ('lib/screens/transactions/transactions_screen.dart').
  Try correcting the name to the name of an existing getter, or defining a getter or field named 'Selectableconst'.
              Selectableconst Text('加载失败: $errorText'),
              ^^^^^^^^^^^^^^^
  lib/screens/transactions/transactions_screen.dart:177:13: Error: Not a constant expression.
              icon,
              ^^^^
  lib/screens/transactions/transactions_screen.dart:183:13: Error: Not a constant expression.
              message,
              ^^^^^^^
  lib/screens/transactions/transactions_screen.dart:193:50: Error: Not a constant expression.
              label: const Text('添加${_getTypeLabel(type)}'),
                                                   ^^^^
  lib/screens/transactions/transactions_screen.dart:193:36: Error: Not a constant expression.
              label: const Text('添加${_getTypeLabel(type)}'),
                                     ^^^^^^^^^^^^^
  lib/screens/transactions/transactions_screen.dart:242:33: Error: Not a constant expression.
                title: const Text(_dateRange == null
                                  ^^^^^^^^^^
  lib/screens/transactions/transactions_screen.dart:244:24: Error: Not a constant expression.
                    : '${_dateRange!.start.toString().split(' ')[0]} - ${_dateRange!.end.toString().split(' ')[0]}'),
                         ^^^^^^^^^^
  lib/screens/transactions/transactions_screen.dart:244:42: Error: Method invocation is not a constant expression.
                    : '${_dateRange!.start.toString().split(' ')[0]} - ${_dateRange!.end.toString().split(' ')[0]}'),
                                           ^^^^^^^^
  lib/screens/transactions/transactions_screen.dart:244:53: Error: Method invocation is not a constant expression.
                    : '${_dateRange!.start.toString().split(' ')[0]} - ${_dateRange!.end.toString().split(' ')[0]}'),
                                                      ^^^^^
  lib/screens/transactions/transactions_screen.dart:244:72: Error: Not a constant expression.
                    : '${_dateRange!.start.toString().split(' ')[0]} - ${_dateRange!.end.toString().split(' ')[0]}'),
                                                                         ^^^^^^^^^^
  lib/screens/transactions/transactions_screen.dart:244:88: Error: Method invocation is not a constant expression.
                    : '${_dateRange!.start.toString().split(' ')[0]} - ${_dateRange!.end.toString().split(' ')[0]}'),
                                                                                         ^^^^^^^^
  lib/screens/transactions/transactions_screen.dart:244:99: Error: Method invocation is not a constant expression.
                    : '${_dateRange!.start.toString().split(' ')[0]} - ${_dateRange!.end.toString().split(' ')[0]}'),
                                                                                                    ^^^^^
  lib/screens/transactions/transactions_screen.dart:420:31: Error: Not a constant expression.
        child: const Text('搜索: $query'),
                                ^^^^^
  lib/screens/accounts/accounts_screen.dart:32:30: Error: Not a constant expression.
              icon: const Icon(_viewMode == 'list' ? Icons.folder : Icons.list),
                               ^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:94:33: Error: Not a constant expression.
              const Text('加载失败: ${accountState.errorMessage}'),
                                  ^^^^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:232:21: Error: Not a constant expression.
                      type.icon,
                      ^^^^
  lib/screens/accounts/accounts_screen.dart:234:37: Error: Not a constant expression.
                      color: Theme.of(context).primaryColor,
                                      ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:234:34: Error: Method invocation is not a constant expression.
                      color: Theme.of(context).primaryColor,
                                   ^^
  lib/screens/accounts/accounts_screen.dart:238:21: Error: Not a constant expression.
                      type.label,
                      ^^^^
  lib/screens/accounts/accounts_screen.dart:246:25: Error: Not a constant expression.
                      '(${accounts.length})',
                          ^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:255:26: Error: Not a constant expression.
                  ref.read(currencyProvider.notifier).formatCurrency(
                           ^^^^^^^^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:255:17: Error: Not a constant expression.
                  ref.read(currencyProvider.notifier).formatCurrency(
                  ^^^
  lib/screens/accounts/accounts_screen.dart:255:21: Error: Method invocation is not a constant expression.
                  ref.read(currencyProvider.notifier).formatCurrency(
                      ^^^^
  lib/screens/accounts/accounts_screen.dart:256:44: Error: Not a constant expression.
                      totalBalance, ref.read(baseCurrencyProvider).code),
                                             ^^^^^^^^^^^^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:256:35: Error: Not a constant expression.
                      totalBalance, ref.read(baseCurrencyProvider).code),
                                    ^^^
  lib/screens/accounts/accounts_screen.dart:256:39: Error: Method invocation is not a constant expression.
                      totalBalance, ref.read(baseCurrencyProvider).code),
                                        ^^^^
  lib/screens/accounts/accounts_screen.dart:256:21: Error: Not a constant expression.
                      totalBalance, ref.read(baseCurrencyProvider).code),
                      ^^^^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:255:53: Error: Method invocation is not a constant expression.
                  ref.read(currencyProvider.notifier).formatCurrency(
                                                      ^^^^^^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:260:26: Error: Not a constant expression.
                    color: totalBalance >= 0 ? Colors.green : Colors.red,
                           ^^^^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:279:11: Error: Not a constant expression.
            account.type.icon,
            ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:279:19: Error: Not a constant expression.
            account.type.icon,
                    ^^^^
  lib/screens/accounts/accounts_screen.dart:280:27: Error: Not a constant expression.
            color: Theme.of(context).primaryColor,
                            ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:280:24: Error: Method invocation is not a constant expression.
            color: Theme.of(context).primaryColor,
                         ^^
  lib/screens/accounts/accounts_screen.dart:283:25: Error: Not a constant expression.
        title: const Text(account.name),
                          ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:289:15: Error: Not a constant expression.
                account.displayAccountNumber!,
                ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:294:24: Error: Not a constant expression.
                '最后交易: ${account.lastTransactionDate!.toLocal().toString().split(' ')[0]}',
                         ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:294:53: Error: Method invocation is not a constant expression.
                '最后交易: ${account.lastTransactionDate!.toLocal().toString().split(' ')[0]}',
                                                      ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:294:63: Error: Method invocation is not a constant expression.
                '最后交易: ${account.lastTransactionDate!.toLocal().toString().split(' ')[0]}',
                                                                ^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:294:74: Error: Method invocation is not a constant expression.
                '最后交易: ${account.lastTransactionDate!.toLocal().toString().split(' ')[0]}',
                                                                           ^^^^^
  lib/screens/accounts/accounts_screen.dart:304:13: Error: Not a constant expression.
              account.formattedBalance,
              ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:308:22: Error: Not a constant expression.
                color: isPositive ? Colors.green : Colors.red,
                       ^^^^^^^^^^
  lib/screens/accounts/accounts_screen.dart:313:15: Error: Not a constant expression.
                account.currency,
                ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:365:21: Error: Not a constant expression.
                      account.type.icon,
                      ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:365:29: Error: Not a constant expression.
                      account.type.icon,
                              ^^^^
  lib/screens/accounts/accounts_screen.dart:366:37: Error: Not a constant expression.
                      color: Theme.of(context).primaryColor,
                                      ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:366:34: Error: Method invocation is not a constant expression.
                      color: Theme.of(context).primaryColor,
                                   ^^
  lib/screens/accounts/accounts_screen.dart:390:17: Error: Not a constant expression.
                  account.name,
                  ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:399:17: Error: Not a constant expression.
                  account.formattedBalance,
                  ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:403:26: Error: Not a constant expression.
                    color: balance >= 0 ? Colors.green : Colors.red,
                           ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:431:33: Error: Not a constant expression.
                title: const Text(account.isDefault ? '取消默认' : '设为默认'),
                                  ^^^^^^^
  lib/screens/accounts/accounts_screen.dart:464:40: Error: Not a constant expression.
          content: const Text('确定要删除账户"${account.name}"吗？此操作不可撤销。'),
                                         ^^^^^^^
  lib/screens/budgets/budgets_screen.dart:30:27: Error: Not a constant expression.
                icon: const Icon(Icons.calendar_today),
                            ^^^^
  lib/screens/budgets/budgets_screen.dart:34:27: Error: Not a constant expression.
                icon: const Icon(Icons.analytics),
                            ^^^^
  lib/screens/budgets/budgets_screen.dart:47:23: Error: Not a constant expression.
            icon: const Icon(Icons.add),
                        ^^^^
  lib/screens/budgets/budgets_screen.dart:65:19: Error: Not a constant expression.
              const Icon(Icons.error_outline, size: 64, color: Colors.red),
                    ^^^^
  lib/screens/budgets/budgets_screen.dart:67:33: Error: Not a constant expression.
              const Text('加载失败: ${budgetState.error}'),
                                  ^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:123:37: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                          '${DateTime.now().month}月',
                                      ^^^
  lib/screens/budgets/budgets_screen.dart:146:38: Error: Not a constant expression.
                              ref.read(currencyProvider.notifier).formatCurrency(
                                       ^^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:146:29: Error: Not a constant expression.
                              ref.read(currencyProvider.notifier).formatCurrency(
                              ^^^
  lib/screens/budgets/budgets_screen.dart:146:33: Error: Method invocation is not a constant expression.
                              ref.read(currencyProvider.notifier).formatCurrency(
                                  ^^^^
  lib/screens/budgets/budgets_screen.dart:147:53: Error: Not a constant expression.
                                  remaining, ref.read(baseCurrencyProvider).code),
                                                      ^^^^^^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:147:44: Error: Not a constant expression.
                                  remaining, ref.read(baseCurrencyProvider).code),
                                             ^^^
  lib/screens/budgets/budgets_screen.dart:147:48: Error: Method invocation is not a constant expression.
                                  remaining, ref.read(baseCurrencyProvider).code),
                                                 ^^^^
  lib/screens/budgets/budgets_screen.dart:147:33: Error: Not a constant expression.
                                  remaining, ref.read(baseCurrencyProvider).code),
                                  ^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:146:65: Error: Method invocation is not a constant expression.
                              ref.read(currencyProvider.notifier).formatCurrency(
                                                                  ^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:207:17: Error: Not a constant expression.
            const Icon(
                  ^^^^
  lib/screens/budgets/budgets_screen.dart:234:25: Error: Not a constant expression.
              icon: const Icon(Icons.add),
                          ^^^^
  lib/screens/budgets/budgets_screen.dart:247:17: Error: Not a constant expression.
            const Icon(
                  ^^^^
  lib/screens/budgets/budgets_screen.dart:272:25: Error: Not a constant expression.
              icon: const Icon(Icons.add),
                          ^^^^
  lib/screens/budgets/budgets_screen.dart:291:20: Error: Not a constant expression.
              color: color.withValues(alpha: 0.7),
                     ^^^^^
  lib/screens/budgets/budgets_screen.dart:291:26: Error: Method invocation is not a constant expression.
              color: color.withValues(alpha: 0.7),
                           ^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:289:11: Error: Not a constant expression.
            label,
            ^^^^^
  lib/screens/budgets/budgets_screen.dart:297:11: Error: Not a constant expression.
            label == '剩余天数'
            ^^^^^
  lib/screens/budgets/budgets_screen.dart:298:20: Error: Not a constant expression.
                ? '${value.toInt()}天'
                     ^^^^^
  lib/screens/budgets/budgets_screen.dart:298:26: Error: Method invocation is not a constant expression.
                ? '${value.toInt()}天'
                           ^^^^^
  lib/screens/budgets/budgets_screen.dart:299:17: Error: Not a constant expression.
                : ref != null
                  ^^^
  lib/screens/budgets/budgets_screen.dart:300:30: Error: Not a constant expression.
                    ? ref.read(currencyProvider.notifier).formatCurrency(
                               ^^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:300:21: Error: Not a constant expression.
                    ? ref.read(currencyProvider.notifier).formatCurrency(
                      ^^^
  lib/screens/budgets/budgets_screen.dart:300:25: Error: Method invocation is not a constant expression.
                    ? ref.read(currencyProvider.notifier).formatCurrency(
                          ^^^^
  lib/screens/budgets/budgets_screen.dart:301:39: Error: Not a constant expression.
                        value, ref.read(baseCurrencyProvider).code)
                                        ^^^^^^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:301:30: Error: Not a constant expression.
                        value, ref.read(baseCurrencyProvider).code)
                               ^^^
  lib/screens/budgets/budgets_screen.dart:301:34: Error: Method invocation is not a constant expression.
                        value, ref.read(baseCurrencyProvider).code)
                                   ^^^^
  lib/screens/budgets/budgets_screen.dart:301:23: Error: Not a constant expression.
                        value, ref.read(baseCurrencyProvider).code)
                        ^^^^^
  lib/screens/budgets/budgets_screen.dart:300:57: Error: Method invocation is not a constant expression.
                    ? ref.read(currencyProvider.notifier).formatCurrency(
                                                          ^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:302:21: Error: Not a constant expression.
                    : value.toStringAsFixed(2),
                      ^^^^^
  lib/screens/budgets/budgets_screen.dart:302:27: Error: Method invocation is not a constant expression.
                    : value.toStringAsFixed(2),
                            ^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:304:20: Error: Not a constant expression.
              color: color,
                     ^^^^^
  lib/screens/budgets/budgets_screen.dart:344:45: Error: Expected ',' before this.
                            _getCategoryconst Icon(budget.category),
                                              ^^^^
  lib/screens/budgets/budgets_screen.dart:344:50: Error: Not a constant expression.
                            _getCategoryconst Icon(budget.category),
                                                   ^^^^^^
  lib/screens/budgets/budgets_screen.dart:345:52: Error: Not a constant expression.
                            color: _getCategoryColor(budget.category),
                                                     ^^^^^^
  lib/screens/budgets/budgets_screen.dart:345:34: Error: Not a constant expression.
                            color: _getCategoryColor(budget.category),
                                   ^^^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:344:27: Error: Not a constant expression.
                            _getCategoryconst Icon(budget.category),
                            ^^^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:344:45: Error: Not a constant expression.
                            _getCategoryconst Icon(budget.category),
                                              ^^^^
  lib/screens/budgets/budgets_screen.dart:343:38: Error: Not a constant expression.
                          child: const Icon(
                                       ^^^^
  lib/screens/budgets/budgets_screen.dart:354:29: Error: Not a constant expression.
                              budget.name,
                              ^^^^^^
  lib/screens/budgets/budgets_screen.dart:361:29: Error: Not a constant expression.
                              budget.category,
                              ^^^^^^
  lib/screens/budgets/budgets_screen.dart:375:25: Error: Not a constant expression.
                          isOverBudget ? '超支' : '剩余',
                          ^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:377:34: Error: Not a constant expression.
                            color: isOverBudget ? Colors.red : Colors.green,
                                   ^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:389:36: Error: Not a constant expression.
                              color: isOverBudget ? Colors.red : Colors.green,
                                     ^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:387:27: Error: Not a constant expression.
                            str,
                            ^^^
  lib/screens/budgets/budgets_screen.dart:425:31: Error: Not a constant expression.
                        '已用 ' + used,
                                ^^^^
  lib/screens/budgets/budgets_screen.dart:438:31: Error: Not a constant expression.
                        '预算 ' + totalStr,
                                ^^^^^^^^
  lib/screens/settings/settings_screen.dart:45:42: Error: Not a constant expression.
                      const Text(ref.watch(currentLedgerProvider)?.name ?? '默认家庭'),
                                           ^^^^^^^^^^^^^^^^^^^^^
  lib/screens/settings/settings_screen.dart:45:32: Error: Not a constant expression.
                      const Text(ref.watch(currentLedgerProvider)?.name ?? '默认家庭'),
                                 ^^^
  lib/screens/settings/settings_screen.dart:45:36: Error: Method invocation is not a constant expression.
                      const Text(ref.watch(currentLedgerProvider)?.name ?? '默认家庭'),
                                     ^^^^^
  lib/screens/settings/settings_screen.dart:265:21: Error: Not a constant expression.
                      initial,
                      ^^^^^^^
  lib/screens/settings/settings_screen.dart:271:13: Error: Not a constant expression.
              userName,
              ^^^^^^^^
  lib/screens/settings/settings_screen.dart:277:55: Error: Not a constant expression.
            subtitle: userEmail.isNotEmpty ? const Text(userEmail) : null,
                                                        ^^^^^^^^^
  lib/screens/settings/settings_screen.dart:295:13: Error: Not a constant expression.
              title,
              ^^^^^
  lib/screens/settings/settings_screen.dart:387:23: Error: Not a constant expression.
                        currency.flag ?? currency.symbol,
                        ^^^^^^^^
  lib/screens/settings/settings_screen.dart:387:40: Error: Not a constant expression.
                        currency.flag ?? currency.symbol,
                                         ^^^^^^^^
  lib/screens/settings/settings_screen.dart:390:39: Error: Not a constant expression.
                      title: const Text(currency.nameZh),
                                        ^^^^^^^^
  lib/screens/settings/settings_screen.dart:391:42: Error: Not a constant expression.
                      subtitle: const Text(currency.code),
                                           ^^^^^^^^
  lib/screens/settings/settings_screen.dart:540:25: Error: Not a constant expression.
              icon: const Icon(Icons.add),
                          ^^^^
  lib/screens/settings/settings_screen.dart:562:63: Error: Not a constant expression.
          error: (error, _) => Center(child: const Text('加载失败: $error')),
                                                                ^^^^^
  lib/screens/settings/settings_screen.dart:575:27: Error: Expected ',' before this.
            _getLedgerconst Icon(ledger.type),
                            ^^^^
  lib/screens/settings/settings_screen.dart:575:32: Error: Not a constant expression.
            _getLedgerconst Icon(ledger.type),
                                 ^^^^^^
  lib/screens/settings/settings_screen.dart:576:18: Error: Not a constant expression.
            color: isDefault ? Colors.white : Colors.grey[600],
                   ^^^^^^^^^
  lib/screens/settings/settings_screen.dart:575:11: Error: Not a constant expression.
            _getLedgerconst Icon(ledger.type),
            ^^^^^^^^^^^^^^^
  lib/screens/settings/settings_screen.dart:575:27: Error: Not a constant expression.
            _getLedgerconst Icon(ledger.type),
                            ^^^^
  lib/screens/settings/settings_screen.dart:574:22: Error: Not a constant expression.
          child: const Icon(
                       ^^^^
  lib/screens/settings/settings_screen.dart:579:25: Error: Not a constant expression.
        title: const Text(ledger.name),
                          ^^^^^^
  lib/screens/settings/settings_screen.dart:580:28: Error: Not a constant expression.
        subtitle: const Text(ledger.description ?? ''),
                             ^^^^^^
  lib/screens/settings/settings_screen.dart:701:15: Error: Not a constant expression.
                currency['symbol']!,
                ^^^^^^^^
  lib/screens/settings/settings_screen.dart:704:31: Error: Not a constant expression.
              title: const Text(currency['name']!),
                                ^^^^^^^^
  lib/screens/settings/settings_screen.dart:705:34: Error: Not a constant expression.
              subtitle: const Text(currency['code']!),
                                   ^^^^^^^^
  lib/screens/settings/theme_settings_screen.dart:22:55: Error: Not a constant expression.
              child: const Text('主题模式', style: Theme.of(context).textTheme.titleMedium),
                                                        ^^^^^^^
  lib/screens/settings/theme_settings_screen.dart:22:52: Error: Method invocation is not a constant expression.
              child: const Text('主题模式', style: Theme.of(context).textTheme.titleMedium),
                                                     ^^
  lib/screens/settings/theme_settings_screen.dart:22:64: Error: Not a constant expression.
              child: const Text('主题模式', style: Theme.of(context).textTheme.titleMedium),
                                                                 ^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:260:41: Error: Not a constant expression.
              content: const Text('加载失败: $e'),
                                          ^
  lib/screens/settings/profile_settings_screen.dart:360:37: Error: Not a constant expression.
                                      avatar['icon'] as String,
                                      ^^^^^^
  lib/screens/settings/profile_settings_screen.dart:477:41: Error: Not a constant expression.
              content: const Text('保存失败: $e'),
                                          ^
  lib/screens/settings/profile_settings_screen.dart:506:44: Error: Not a constant expression.
              content: const Text('发送验证码失败: $e'),
                                             ^
  lib/screens/settings/profile_settings_screen.dart:597:43: Error: Not a constant expression.
              content: const Text('重置账户失败: $e'),
                                            ^
  lib/screens/settings/profile_settings_screen.dart:631:43: Error: Not a constant expression.
              content: const Text('删除账户失败: $e'),
                                            ^
  lib/screens/settings/profile_settings_screen.dart:663:24: Error: Not a constant expression.
                  color: _isSaving ? Colors.grey : Colors.white,
                         ^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:724:45: Error: Not a constant expression.
                                              _selectedSystemAvatar!['icon']
                                              ^^^^^^^^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:863:49: Error: Not a constant expression.
                            '${_getCurrencySymbol(_selectedCurrency)}2,325.25',
                                                  ^^^^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:863:30: Error: Not a constant expression.
                            '${_getCurrencySymbol(_selectedCurrency)}2,325.25',
                               ^^^^^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:870:46: Error: Not a constant expression.
                            '日期: ${_formatDate(_selectedDateFormat)}',
                                               ^^^^^^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:870:34: Error: Not a constant expression.
                            '日期: ${_formatDate(_selectedDateFormat)}',
                                   ^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1004:42: Error: Not a constant expression.
                                onPressed: _resetAccount,
                                           ^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1005:53: Error: Method invocation is not a constant expression.
                                style: ElevatedButton.styleFrom(
                                                      ^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1072:44: Error: Not a constant expression.
                                    context: context,
                                             ^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1080:72: Error: Not a constant expression.
                                          onPressed: () => Navigator.pop(context),
                                                                         ^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1080:68: Error: Method invocation is not a constant expression.
                                          onPressed: () => Navigator.pop(context),
                                                                     ^^^
  lib/screens/settings/profile_settings_screen.dart:1080:52: Error: Not a constant expression.
                                          onPressed: () => Navigator.pop(context),
                                                     ^^
  lib/screens/settings/profile_settings_screen.dart:1085:57: Error: Not a constant expression.
                                            Navigator.pop(context);
                                                          ^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1085:53: Error: Method invocation is not a constant expression.
                                            Navigator.pop(context);
                                                      ^^^
  lib/screens/settings/profile_settings_screen.dart:1086:43: Error: Not a constant expression.
                                            _deleteAccount();
                                            ^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1084:52: Error: Not a constant expression.
                                          onPressed: () {
                                                     ^^
  lib/screens/settings/profile_settings_screen.dart:1073:44: Error: Not a constant expression.
                                    builder: (context) => AlertDialog(
                                             ^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1071:33: Error: Method invocation is not a constant expression.
                                  showDialog(
                                  ^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1070:42: Error: Not a constant expression.
                                onPressed: () {
                                           ^^
  lib/screens/settings/profile_settings_screen.dart:1097:53: Error: Method invocation is not a constant expression.
                                style: ElevatedButton.styleFrom(
                                                      ^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1138:27: Error: Not a constant expression.
          child: const Text(country['name']?.toString() ?? ''),
                            ^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1138:44: Error: Method invocation is not a constant expression.
          child: const Text(country['name']?.toString() ?? ''),
                                             ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1150:31: Error: Not a constant expression.
              child: const Text(_selectedCountry),
                                ^^^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1169:30: Error: Not a constant expression.
          child: const Text('${currency['name']} (${currency['symbol']})'),
                               ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1169:51: Error: Not a constant expression.
          child: const Text('${currency['name']} (${currency['symbol']})'),
                                                    ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1193:27: Error: Not a constant expression.
          child: const Text(language['name']?.toString() ?? ''),
                            ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1193:45: Error: Method invocation is not a constant expression.
          child: const Text(language['name']?.toString() ?? ''),
                                              ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1205:31: Error: Not a constant expression.
              child: const Text(_selectedLanguage),
                                ^^^^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1234:27: Error: Not a constant expression.
          child: const Text(timezone['name']?.toString() ?? ''),
                            ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1234:45: Error: Method invocation is not a constant expression.
          child: const Text(timezone['name']?.toString() ?? ''),
                                              ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1247:31: Error: Not a constant expression.
              child: const Text(_selectedTimezone),
                                ^^^^^^^^^^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1274:27: Error: Not a constant expression.
          child: const Text(format['example']?.toString() ?? ''),
                            ^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1274:46: Error: Method invocation is not a constant expression.
          child: const Text(format['example']?.toString() ?? ''),
                                               ^^^^^^^^
  lib/screens/settings/profile_settings_screen.dart:1286:31: Error: Not a constant expression.
              child: const Text(_selectedDateFormat),
                                ^^^^^^^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:75:43: Error: Not a constant expression.
              content: const Text('更新汇率失败: $e'),
                                            ^
  lib/screens/currency/exchange_rate_screen.dart:151:25: Error: Not a constant expression.
                          catalogMeta.lastError != null
                          ^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:152:45: Error: Not a constant expression.
                              ? '使用本地内置货币列表：${catalogMeta.lastError}'
                                              ^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:154:41: Error: Not a constant expression.
                          style: Theme.of(context)
                                          ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:154:38: Error: Method invocation is not a constant expression.
                          style: Theme.of(context)
                                       ^^
  lib/screens/currency/exchange_rate_screen.dart:155:30: Error: Not a constant expression.
                              .textTheme
                               ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:157:31: Error: Method invocation is not a constant expression.
                              ?.copyWith(color: Colors.orange[900]),
                                ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:179:40: Error: Not a constant expression.
                          _buildSyncLine(catalogMeta),
                                         ^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:180:41: Error: Not a constant expression.
                          style: Theme.of(context)
                                          ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:180:38: Error: Method invocation is not a constant expression.
                          style: Theme.of(context)
                                       ^^
  lib/screens/currency/exchange_rate_screen.dart:181:30: Error: Not a constant expression.
                              .textTheme
                               ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:183:31: Error: Method invocation is not a constant expression.
                              ?.copyWith(color: Colors.grey[600]),
                                ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:179:25: Error: Not a constant expression.
                          _buildSyncLine(catalogMeta),
                          ^^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:234:34: Error: Not a constant expression.
                        const Text(currency.symbol),
                                   ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:236:34: Error: Not a constant expression.
                        const Text(currency.code),
                                   ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:240:27: Error: Not a constant expression.
                            currency.name,
                            ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:241:43: Error: Not a constant expression.
                            style: Theme.of(context).textTheme.bodySmall,
                                            ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:241:40: Error: Method invocation is not a constant expression.
                            style: Theme.of(context).textTheme.bodySmall,
                                         ^^
  lib/screens/currency/exchange_rate_screen.dart:241:52: Error: Not a constant expression.
                            style: Theme.of(context).textTheme.bodySmall,
                                                     ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:292:34: Error: Not a constant expression.
                        const Text(currency.symbol),
                                   ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:294:34: Error: Not a constant expression.
                        const Text(currency.code),
                                   ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:298:27: Error: Not a constant expression.
                            currency.name,
                            ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:299:43: Error: Not a constant expression.
                            style: Theme.of(context).textTheme.bodySmall,
                                            ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:299:40: Error: Method invocation is not a constant expression.
                            style: Theme.of(context).textTheme.bodySmall,
                                         ^^
  lib/screens/currency/exchange_rate_screen.dart:299:52: Error: Not a constant expression.
                            style: Theme.of(context).textTheme.bodySmall,
                                                     ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:329:41: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.titleMedium,
                                          ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:329:38: Error: Method invocation is not a constant expression.
                          style: Theme.of(context).textTheme.titleMedium,
                                       ^^
  lib/screens/currency/exchange_rate_screen.dart:329:50: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.titleMedium,
                                                   ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:333:28: Error: Not a constant expression.
                          '${_amount.toStringAsFixed(2)} $_fromCurrency',
                             ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:333:36: Error: Method invocation is not a constant expression.
                          '${_amount.toStringAsFixed(2)} $_fromCurrency',
                                     ^^^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:333:57: Error: Not a constant expression.
                          '${_amount.toStringAsFixed(2)} $_fromCurrency',
                                                          ^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:334:41: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.titleLarge,
                                          ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:334:38: Error: Method invocation is not a constant expression.
                          style: Theme.of(context).textTheme.titleLarge,
                                       ^^
  lib/screens/currency/exchange_rate_screen.dart:334:50: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.titleLarge,
                                                   ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:338:28: Error: Not a constant expression.
                          '${_convertedAmount!.toStringAsFixed(2)} $_toCurrency',
                             ^^^^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:338:46: Error: Method invocation is not a constant expression.
                          '${_convertedAmount!.toStringAsFixed(2)} $_toCurrency',
                                               ^^^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:338:67: Error: Not a constant expression.
                          '${_convertedAmount!.toStringAsFixed(2)} $_toCurrency',
                                                                    ^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:339:41: Error: Not a constant expression.
                          style: Theme.of(context)
                                          ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:339:38: Error: Method invocation is not a constant expression.
                          style: Theme.of(context)
                                       ^^
  lib/screens/currency/exchange_rate_screen.dart:340:30: Error: Not a constant expression.
                              .textTheme
                               ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:343:47: Error: Not a constant expression.
                                color: Theme.of(context).primaryColor,
                                                ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:343:44: Error: Method invocation is not a constant expression.
                                color: Theme.of(context).primaryColor,
                                             ^^
  lib/screens/currency/exchange_rate_screen.dart:342:31: Error: Method invocation is not a constant expression.
                              ?.copyWith(
                                ^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:349:52: Error: Not a constant expression.
                          '汇率: 1 $_fromCurrency = ${(_convertedAmount! / _amount).toStringAsFixed(4)} $_toCurrency',
                                                     ^^^^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:349:72: Error: Not a constant expression.
                          '汇率: 1 $_fromCurrency = ${(_convertedAmount! / _amount).toStringAsFixed(4)} $_toCurrency',
                                                                         ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:349:81: Error: Method invocation is not a constant expression.
                          '汇率: 1 $_fromCurrency = ${(_convertedAmount! / _amount).toStringAsFixed(4)} $_toCurrency',
                                                                                  ^^^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:349:33: Error: Not a constant expression.
                          '汇率: 1 $_fromCurrency = ${(_convertedAmount! / _amount).toStringAsFixed(4)} $_toCurrency',
                                  ^^^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:349:102: Error: Not a constant expression.
                          '汇率: 1 $_fromCurrency = ${(_convertedAmount! / _amount).toStringAsFixed(4)} $_toCurrency',
                                                                                                       ^^^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:350:41: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.bodySmall,
                                          ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:350:38: Error: Method invocation is not a constant expression.
                          style: Theme.of(context).textTheme.bodySmall,
                                       ^^
  lib/screens/currency/exchange_rate_screen.dart:350:50: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.bodySmall,
                                                   ^^^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:370:41: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.bodySmall,
                                          ^^^^^^^
  lib/screens/currency/exchange_rate_screen.dart:370:38: Error: Method invocation is not a constant expression.
                          style: Theme.of(context).textTheme.bodySmall,
                                       ^^
  lib/screens/currency/exchange_rate_screen.dart:370:50: Error: Not a constant expression.
                          style: Theme.of(context).textTheme.bodySmall,
                                                   ^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:57:24: Error: Not a constant expression.
                  color: manualActive ? Colors.orange[700] : Colors.grey[600]),
                         ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:60:39: Error: Not a constant expression.
                '手动汇率有效至: ${_formatDate(manualExpiry.toLocal())}${manualActive ? '' : ' (已过期)'}',
                                        ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:60:52: Error: Method invocation is not a constant expression.
                '手动汇率有效至: ${_formatDate(manualExpiry.toLocal())}${manualActive ? '' : ' (已过期)'}',
                                                     ^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:60:65: Error: Not a constant expression.
                '手动汇率有效至: ${_formatDate(manualExpiry.toLocal())}${manualActive ? '' : ' (已过期)'}',
                                                                  ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:60:27: Error: Not a constant expression.
                '手动汇率有效至: ${_formatDate(manualExpiry.toLocal())}${manualActive ? '' : ' (已过期)'}',
                            ^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:63:24: Error: Not a constant expression.
                  color: manualActive ? Colors.orange[700]! : Colors.grey[600]!,
                         ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:153:37: Error: Not a constant expression.
          title: const Text('设置汇率: 1 $baseCurrency = ? $toCurrency'),
                                      ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:153:55: Error: Not a constant expression.
          title: const Text('设置汇率: 1 $baseCurrency = ? $toCurrency'),
                                                        ^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:190:38: Error: Not a constant expression.
                '您确定要将基础货币从 ${ref.read(baseCurrencyProvider).code} 更换为 ${newCurrency.code} 吗？',
                                       ^^^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:190:29: Error: Not a constant expression.
                '您确定要将基础货币从 ${ref.read(baseCurrencyProvider).code} 更换为 ${newCurrency.code} 吗？',
                              ^^^
  lib/screens/management/currency_management_page_v2.dart:190:33: Error: Method invocation is not a constant expression.
                '您确定要将基础货币从 ${ref.read(baseCurrencyProvider).code} 更换为 ${newCurrency.code} 吗？',
                                  ^^^^
  lib/screens/management/currency_management_page_v2.dart:190:72: Error: Not a constant expression.
                '您确定要将基础货币从 ${ref.read(baseCurrencyProvider).code} 更换为 ${newCurrency.code} 吗？',
                                                                         ^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:251:15: Error: Not a constant expression.
                text,
                ^^^^
  lib/screens/management/currency_management_page_v2.dart:263:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:307:58: Error: Not a constant expression.
            const Icon(Icons.warning_amber_rounded, color: cs.error),
                                                           ^^
  lib/screens/management/currency_management_page_v2.dart:311:48: Error: Not a constant expression.
                '以下币种已下线：${deprecated.map((e) => e.code).join(', ')}，建议替换为可用币种。',
                                                 ^
  lib/screens/management/currency_management_page_v2.dart:311:41: Error: Not a constant expression.
                '以下币种已下线：${deprecated.map((e) => e.code).join(', ')}，建议替换为可用币种。',
                                          ^^^
  lib/screens/management/currency_management_page_v2.dart:311:26: Error: Not a constant expression.
                '以下币种已下线：${deprecated.map((e) => e.code).join(', ')}，建议替换为可用币种。',
                           ^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:311:37: Error: Method invocation is not a constant expression.
                '以下币种已下线：${deprecated.map((e) => e.code).join(', ')}，建议替换为可用币种。',
                                      ^^^
  lib/screens/management/currency_management_page_v2.dart:311:56: Error: Method invocation is not a constant expression.
                '以下币种已下线：${deprecated.map((e) => e.code).join(', ')}，建议替换为可用币种。',
                                                         ^^^^
  lib/screens/management/currency_management_page_v2.dart:312:39: Error: Not a constant expression.
                style: TextStyle(color: cs.onErrorContainer, fontSize: 12),
                                        ^^
  lib/screens/management/currency_management_page_v2.dart:344:50: Error: Not a constant expression.
                        Expanded(child: const Text(d.code)),
                                                   ^
  lib/screens/management/currency_management_page_v2.dart:348:46: Error: Not a constant expression.
                            value: selectedMap[d.code],
                                               ^
  lib/screens/management/currency_management_page_v2.dart:348:34: Error: Not a constant expression.
                            value: selectedMap[d.code],
                                   ^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:351:42: Error: Not a constant expression.
                                    value: c.code,
                                           ^
  lib/screens/management/currency_management_page_v2.dart:352:56: Error: Not a constant expression.
                                    child: const Text('${c.code} · ${c.nameZh}')))
                                                         ^
  lib/screens/management/currency_management_page_v2.dart:352:68: Error: Not a constant expression.
                                    child: const Text('${c.code} · ${c.nameZh}')))
                                                                     ^
  lib/screens/management/currency_management_page_v2.dart:350:36: Error: Not a constant expression.
                                .map((c) => DropdownMenuItem(
                                     ^^^
  lib/screens/management/currency_management_page_v2.dart:349:34: Error: Not a constant expression.
                            items: available
                                   ^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:350:32: Error: Method invocation is not a constant expression.
                                .map((c) => DropdownMenuItem(
                                 ^^^
  lib/screens/management/currency_management_page_v2.dart:353:32: Error: Method invocation is not a constant expression.
                                .toList(),
                                 ^^^^^^
  lib/screens/management/currency_management_page_v2.dart:354:57: Error: Not a constant expression.
                            onChanged: (v) => selectedMap[d.code] = v ?? d.code,
                                                          ^
  lib/screens/management/currency_management_page_v2.dart:354:45: Error: Not a constant expression.
                            onChanged: (v) => selectedMap[d.code] = v ?? d.code,
                                              ^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:354:72: Error: Not a constant expression.
                            onChanged: (v) => selectedMap[d.code] = v ?? d.code,
                                                                         ^
  lib/screens/management/currency_management_page_v2.dart:354:67: Error: Not a constant expression.
                            onChanged: (v) => selectedMap[d.code] = v ?? d.code,
                                                                    ^
  lib/screens/management/currency_management_page_v2.dart:354:65: Error: Not a constant expression.
                            onChanged: (v) => selectedMap[d.code] = v ?? d.code,
                                                                  ^
  lib/screens/management/currency_management_page_v2.dart:354:38: Error: Not a constant expression.
                            onChanged: (v) => selectedMap[d.code] = v ?? d.code,
                                       ^^^
  lib/screens/management/currency_management_page_v2.dart:347:32: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                          child: DropdownButtonFormField<String>(
                                 ^^^^^^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:339:40: Error: Not a constant expression.
                children: deprecated.map((d) {
                                         ^^^
  lib/screens/management/currency_management_page_v2.dart:339:25: Error: Not a constant expression.
                children: deprecated.map((d) {
                          ^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:339:36: Error: Method invocation is not a constant expression.
                children: deprecated.map((d) {
                                     ^^^
  lib/screens/management/currency_management_page_v2.dart:362:18: Error: Method invocation is not a constant expression.
                }).toList(),
                   ^^^^^^
  lib/screens/management/currency_management_page_v2.dart:435:55: Error: Not a constant expression.
                          const Icon(Icons.star, color: cs.tertiary, size: 20),
                                                        ^^
  lib/screens/management/currency_management_page_v2.dart:456:38: Error: Not a constant expression.
                                color: cs.onTertiaryContainer,
                                       ^^
  lib/screens/management/currency_management_page_v2.dart:501:35: Error: Not a constant expression.
                                    baseCurrency.flag ?? baseCurrency.symbol,
                                    ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:501:56: Error: Not a constant expression.
                                    baseCurrency.flag ?? baseCurrency.symbol,
                                                         ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:503:60: Error: Not a constant expression.
                                        fontSize: 24, color: cs.onSurface),
                                                             ^^
  lib/screens/management/currency_management_page_v2.dart:515:41: Error: Not a constant expression.
                                          baseCurrency.code,
                                          ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:533:43: Error: Not a constant expression.
                                            baseCurrency.symbol,
                                            ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:536:54: Error: Not a constant expression.
                                                color: cs.onSurfaceVariant),
                                                       ^^
  lib/screens/management/currency_management_page_v2.dart:543:37: Error: Not a constant expression.
                                      baseCurrency.nameZh,
                                      ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:546:46: Error: Not a constant expression.
                                        color: cs.onSurfaceVariant,
                                               ^^
  lib/screens/management/currency_management_page_v2.dart:570:59: Error: Not a constant expression.
                          const Icon(Icons.language, color: cs.primary, size: 20),
                                                            ^^
  lib/screens/management/currency_management_page_v2.dart:604:40: Error: Not a constant expression.
                                  color: cs.secondary,
                                         ^^
  lib/screens/management/currency_management_page_v2.dart:636:62: Error: Not a constant expression.
                                const Icon(Icons.block, color: cs.error, size: 20),
                                                               ^^
  lib/screens/management/currency_management_page_v2.dart:641:58: Error: Not a constant expression.
                                      fontSize: 14, color: cs.onErrorContainer),
                                                           ^^
  lib/screens/management/currency_management_page_v2.dart:667:40: Error: Not a constant expression.
                                  color: cs.secondary, size: 20),
                                         ^^
  lib/screens/management/currency_management_page_v2.dart:687:36: Error: Not a constant expression.
                                  '${selectedCurrencies.length}',
                                     ^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:690:42: Error: Not a constant expression.
                                    color: cs.onSecondaryContainer,
                                           ^^
  lib/screens/management/currency_management_page_v2.dart:700:64: Error: Not a constant expression.
                          leading: const Icon(Icons.edit, color: cs.primary),
                                                                 ^^
  lib/screens/management/currency_management_page_v2.dart:724:73: Error: Not a constant expression.
                                const Icon(Icons.currency_bitcoin, color: cs.secondary),
                                                                          ^^
  lib/screens/management/currency_management_page_v2.dart:756:61: Error: Not a constant expression.
                          const Icon(Icons.visibility, color: cs.primary, size: 20),
                                                              ^^
  lib/screens/management/currency_management_page_v2.dart:818:48: Error: Not a constant expression.
                                size: 16, color: cs.onPrimaryContainer),
                                                 ^^
  lib/screens/management/currency_management_page_v2.dart:824:38: Error: Not a constant expression.
                                color: cs.onPrimaryContainer,
                                       ^^
  lib/screens/management/currency_management_page_v2.dart:821:29: Error: Not a constant expression.
                              _getDisplayExample(),
                              ^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:855:54: Error: Not a constant expression.
                                  fontSize: 12, color: cs.onSurfaceVariant),
                                                       ^^
  lib/screens/management/currency_management_page_v2.dart:853:29: Error: Not a constant expression.
                              text,
                              ^^^^
  lib/screens/management/currency_management_page_v2.dart:946:35: Error: Not a constant expression.
                                    sourceText,
                                    ^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:982:43: Error: Not a constant expression.
            title: const Text('设置汇率与有效期: 1 $baseCurrency = ? $toCurrency'),
                                            ^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:982:61: Error: Not a constant expression.
            title: const Text('设置汇率与有效期: 1 $baseCurrency = ? $toCurrency'),
                                                              ^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1000:44: Error: Not a constant expression.
                        '有效期至: ${_formatDate(expiryUtc.toLocal())}',
                                             ^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1000:54: Error: Method invocation is not a constant expression.
                        '有效期至: ${_formatDate(expiryUtc.toLocal())}',
                                                       ^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1000:32: Error: Not a constant expression.
                        '有效期至: ${_formatDate(expiryUtc.toLocal())}',
                                 ^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1117:28: Error: Not a constant expression.
                          '${_selectedExpiry.year}-${_selectedExpiry.month.toString().padLeft(2, '0')}-${_selectedExpiry.day.toString().padLeft(2, '0')} 00:00 UTC',
                             ^^^^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1117:52: Error: Not a constant expression.
                          '${_selectedExpiry.year}-${_selectedExpiry.month.toString().padLeft(2, '0')}-${_selectedExpiry.day.toString().padLeft(2, '0')} 00:00 UTC',
                                                     ^^^^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1117:74: Error: Method invocation is not a constant expression.
                          '${_selectedExpiry.year}-${_selectedExpiry.month.toString().padLeft(2, '0')}-${_selectedExpiry.day.toString().padLeft(2, '0')} 00:00 UTC',
                                                                           ^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1117:85: Error: Method invocation is not a constant expression.
                          '${_selectedExpiry.year}-${_selectedExpiry.month.toString().padLeft(2, '0')}-${_selectedExpiry.day.toString().padLeft(2, '0')} 00:00 UTC',
                                                                                      ^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1117:104: Error: Not a constant expression.
                          '${_selectedExpiry.year}-${_selectedExpiry.month.toString().padLeft(2, '0')}-${_selectedExpiry.day.toString().padLeft(2, '0')} 00:00 UTC',
                                                                                                         ^^^^^^^^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1117:124: Error: Method invocation is not a constant expression.
                          '${_selectedExpiry.year}-${_selectedExpiry.month.toString().padLeft(2, '0')}-${_selectedExpiry.day.toString().padLeft(2, '0')} 00:00 UTC',
                                                                                                                             ^^^^^^^^
  lib/screens/management/currency_management_page_v2.dart:1117:135: Error: Method invocation is not a constant expression.
                          '${_selectedExpiry.year}-${_selectedExpiry.month.toString().padLeft(2, '0')}-${_selectedExpiry.day.toString().padLeft(2, '0')} 00:00 UTC',
                                                                                                                                        ^^^^^^^
  lib/screens/management/user_currency_browser.dart:52:28: Error: Not a constant expression.
                  const Icon(_showCrypto ? Icons.currency_bitcoin : Icons.attach_money),
                             ^^^^^^^^^^^
  lib/screens/management/user_currency_browser.dart:126:33: Error: Not a constant expression.
                child: const Text(c.flag ?? c.symbol,
                                  ^
  lib/screens/management/user_currency_browser.dart:126:43: Error: Not a constant expression.
                child: const Text(c.flag ?? c.symbol,
                                            ^
  lib/screens/management/user_currency_browser.dart:141:32: Error: Not a constant expression.
                          color: cs.onTertiaryContainer,
                                 ^^
  lib/screens/management/user_currency_browser.dart:145:24: Error: Not a constant expression.
              const Text(c.code, style: const TextStyle(fontWeight: FontWeight.w700)),
                         ^
  lib/screens/management/user_currency_browser.dart:152:33: Error: Not a constant expression.
                child: const Text(c.symbol,
                                  ^
  lib/screens/management/user_currency_browser.dart:153:43: Error: Not a constant expression.
                    style: TextStyle(color: cs.onSurfaceVariant, fontSize: 12)),
                                            ^^
  lib/screens/management/user_currency_browser.dart:165:34: Error: Not a constant expression.
                            color: cs.onSecondaryContainer, fontSize: 11)))
                                   ^^
  lib/screens/management/user_currency_browser.dart:169:16: Error: Not a constant expression.
              '${c.name} · ${c.nameZh} · 小数位: ${c.decimalPlaces}${c.isEnabled ? '' : ' · 已下线'}'),
                 ^
  lib/screens/management/user_currency_browser.dart:169:28: Error: Not a constant expression.
              '${c.name} · ${c.nameZh} · 小数位: ${c.decimalPlaces}${c.isEnabled ? '' : ' · 已下线'}'),
                             ^
  lib/screens/management/user_currency_browser.dart:169:47: Error: Not a constant expression.
              '${c.name} · ${c.nameZh} · 小数位: ${c.decimalPlaces}${c.isEnabled ? '' : ' · 已下线'}'),
                                                ^
  lib/screens/management/user_currency_browser.dart:169:65: Error: Not a constant expression.
              '${c.name} · ${c.nameZh} · 小数位: ${c.decimalPlaces}${c.isEnabled ? '' : ' · 已下线'}'),
                                                                  ^
  lib/screens/management/user_currency_browser.dart:183:17: Error: Not a constant expression.
                  isSelected
                  ^^^^^^^^^^
  lib/screens/management/user_currency_browser.dart:186:24: Error: Not a constant expression.
                  color: isSelected ? cs.error : cs.primary),
                         ^^^^^^^^^^
  lib/screens/management/user_currency_browser.dart:186:37: Error: Not a constant expression.
                  color: isSelected ? cs.error : cs.primary),
                                      ^^
  lib/screens/management/user_currency_browser.dart:186:48: Error: Not a constant expression.
                  color: isSelected ? cs.error : cs.primary),
                                                 ^^
  lib/screens/management/user_currency_browser.dart:194:73: Error: Not a constant expression.
                        .showSnackBar(SnackBar(content: const Text('已移除 ${c.code}')));
                                                                          ^
  lib/screens/management/user_currency_browser.dart:200:73: Error: Not a constant expression.
                        .showSnackBar(SnackBar(content: const Text('已启用 ${c.code}')));
                                                                          ^
  lib/screens/management/user_currency_browser.dart:215:67: Error: Not a constant expression.
                            SnackBar(content: const Text('基础货币已设为 ${c.code}')));
                                                                    ^
  lib/screens/management/tag_management_page.dart:159:30: Error: Not a constant expression.
                          '共 ${filteredTags.length} 个标签',
                               ^^^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:276:17: Error: Not a constant expression.
                  label,
                  ^^^^^
  lib/screens/management/tag_management_page.dart:354:11: Error: Not a constant expression.
            count.toString(),
            ^^^^^
  lib/screens/management/tag_management_page.dart:354:17: Error: Method invocation is not a constant expression.
            count.toString(),
                  ^^^^^^^^
  lib/screens/management/tag_management_page.dart:358:20: Error: Not a constant expression.
              color: color,
                     ^^^^^
  lib/screens/management/tag_management_page.dart:362:11: Error: Not a constant expression.
            title,
            ^^^^^
  lib/screens/management/tag_management_page.dart:399:17: Error: Not a constant expression.
                  title,
                  ^^^^^
  lib/screens/management/tag_management_page.dart:413:22: Error: Not a constant expression.
                    '${tags.length}',
                       ^^^^
  lib/screens/management/tag_management_page.dart:498:42: Error: Not a constant expression.
                              _getIconData(group.icon!),
                                           ^^^^^
  lib/screens/management/tag_management_page.dart:500:36: Error: Not a constant expression.
                              color: groupColor,
                                     ^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:498:29: Error: Not a constant expression.
                              _getIconData(group.icon!),
                              ^^^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:505:27: Error: Not a constant expression.
                            group.name,
                            ^^^^^
  lib/screens/management/tag_management_page.dart:507:36: Error: Not a constant expression.
                              color: groupColor,
                                     ^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:523:26: Error: Not a constant expression.
                        '${groupTags.length} 个标签',
                           ^^^^^^^^^
  lib/screens/management/tag_management_page.dart:552:31: Error: Not a constant expression.
                                groupTags.isEmpty ? Colors.red : Colors.grey[400],
                                ^^^^^^^^^
  lib/screens/management/tag_management_page.dart:615:28: Error: Not a constant expression.
                _getIconData(tag.icon!),
                             ^^^
  lib/screens/management/tag_management_page.dart:617:22: Error: Not a constant expression.
                color: color,
                       ^^^^^
  lib/screens/management/tag_management_page.dart:615:15: Error: Not a constant expression.
                _getIconData(tag.icon!),
                ^^^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:624:15: Error: Not a constant expression.
                tag.name,
                ^^^
  lib/screens/management/tag_management_page.dart:626:24: Error: Not a constant expression.
                  color: isArchived ? color.withValues(alpha: 0.6) : color,
                         ^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:626:37: Error: Not a constant expression.
                  color: isArchived ? color.withValues(alpha: 0.6) : color,
                                      ^^^^^
  lib/screens/management/tag_management_page.dart:626:43: Error: Method invocation is not a constant expression.
                  color: isArchived ? color.withValues(alpha: 0.6) : color,
                                            ^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:626:68: Error: Not a constant expression.
                  color: isArchived ? color.withValues(alpha: 0.6) : color,
                                                                     ^^^^^
  lib/screens/management/tag_management_page.dart:629:29: Error: Not a constant expression.
                  decoration: isArchived ? TextDecoration.lineThrough : null,
                              ^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:641:15: Error: Not a constant expression.
                tag.usageCount.toString(),
                ^^^
  lib/screens/management/tag_management_page.dart:641:30: Error: Method invocation is not a constant expression.
                tag.usageCount.toString(),
                               ^^^^^^^^
  lib/screens/management/tag_management_page.dart:661:28: Error: Not a constant expression.
                      color: isArchived ? Colors.grey[300] : Colors.grey[600],
                             ^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:671:21: Error: Not a constant expression.
                      tag.archived ? Icons.unarchive : Icons.archive,
                      ^^^
  lib/screens/management/tag_management_page.dart:685:28: Error: Not a constant expression.
                      color: isArchived ? Colors.grey[300] : Colors.red[400],
                             ^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:729:23: Error: Not a constant expression.
                        tag.icon != null ? _getIconData(tag.icon!) : Icons.label,
                        ^^^
  lib/screens/management/tag_management_page.dart:729:55: Error: Not a constant expression.
                        tag.icon != null ? _getIconData(tag.icon!) : Icons.label,
                                                        ^^^
  lib/screens/management/tag_management_page.dart:729:42: Error: Not a constant expression.
                        tag.icon != null ? _getIconData(tag.icon!) : Icons.label,
                                           ^^^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:731:28: Error: Not a constant expression.
                            (tag.color ?? '#6471eb').replaceFirst('#', '0xff'))),
                             ^^^
  lib/screens/management/tag_management_page.dart:731:52: Error: Method invocation is not a constant expression.
                            (tag.color ?? '#6471eb').replaceFirst('#', '0xff'))),
                                                     ^^^^^^^^^^^^
  lib/screens/management/tag_management_page.dart:730:40: Error: Method invocation is not a constant expression.
                        color: Color(int.parse(
                                         ^^^^^
  lib/screens/management/tag_management_page.dart:740:27: Error: Not a constant expression.
                            tag.name,
                            ^^^
  lib/screens/management/tag_management_page.dart:747:34: Error: Not a constant expression.
                            '已使用 ${tag.usageCount} 次',
                                   ^^^
  lib/screens/management/tag_management_page.dart:771:17: Error: Not a constant expression.
                  tag.archived ? Icons.unarchive : Icons.archive,
                  ^^^
  lib/screens/management/tag_management_page.dart:773:33: Error: Not a constant expression.
                title: const Text(tag.archived ? '恢复标签' : '归档标签'),
                                  ^^^
  lib/screens/management/tag_management_page.dart:895:40: Error: Not a constant expression.
          content: const Text('确定要删除分组"${group.name}"吗？'),
                                         ^^^^^
  lib/screens/management/tag_management_page.dart:909:45: Error: Not a constant expression.
                    content: const Text('分组"${group.name}"已删除'),
                                              ^^^^^
  lib/screens/management/tag_management_page.dart:935:26: Error: Not a constant expression.
                const Text(tag.archived ? '标签"${tag.name}"已恢复' : '标签"${tag.name}"已归档'),
                           ^^^
  lib/screens/management/tag_management_page.dart:935:47: Error: Not a constant expression.
                const Text(tag.archived ? '标签"${tag.name}"已恢复' : '标签"${tag.name}"已归档'),
                                                ^^^
  lib/screens/management/tag_management_page.dart:935:70: Error: Not a constant expression.
                const Text(tag.archived ? '标签"${tag.name}"已恢复' : '标签"${tag.name}"已归档'),
                                                                       ^^^
  lib/screens/management/category_list_page.dart:30:39: Error: Not a constant expression.
                      child: const Text(c.icon, style: const TextStyle(fontSize: 14)),
                                        ^
  lib/screens/management/category_list_page.dart:32:37: Error: Not a constant expression.
                    title: const Text(c.name),
                                      ^
  lib/screens/management/category_list_page.dart:78:66: Error: Not a constant expression.
              const Icon(Icons.category_outlined, size: 56, color: colorScheme.primary),
                                                                   ^^^^^^^^^^^
  lib/screens/management/category_list_page.dart:88:39: Error: Not a constant expression.
                style: TextStyle(color: colorScheme.onSurface.withValues(alpha: .65)),
                                        ^^^^^^^^^^^
  lib/screens/management/category_list_page.dart:88:61: Error: Method invocation is not a constant expression.
                style: TextStyle(color: colorScheme.onSurface.withValues(alpha: .65)),
                                                              ^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:40:15: Error: Not a constant expression.
                widget.ledger.name,
                ^^^^^^
  lib/screens/family/family_members_screen.dart:40:22: Error: Not a constant expression.
                widget.ledger.name,
                       ^^^^^^
  lib/screens/family/family_members_screen.dart:41:31: Error: Not a constant expression.
                style: Theme.of(context).textTheme.bodySmall,
                                ^^^^^^^
  lib/screens/family/family_members_screen.dart:41:28: Error: Method invocation is not a constant expression.
                style: Theme.of(context).textTheme.bodySmall,
                             ^^
  lib/screens/family/family_members_screen.dart:41:40: Error: Not a constant expression.
                style: Theme.of(context).textTheme.bodySmall,
                                         ^^^^^^^^^
  lib/screens/family/family_members_screen.dart:109:61: Error: Not a constant expression.
                              child: const Text(_getRoleLabel(role)),
                                                              ^^^^
  lib/screens/family/family_members_screen.dart:109:47: Error: Not a constant expression.
                              child: const Text(_getRoleLabel(role)),
                                                ^^^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:166:40: Error: Not a constant expression.
                      const Text('加载失败: $error'),
                                         ^^^^^
  lib/screens/family/family_members_screen.dart:207:49: Error: Not a constant expression.
                          StringUtils.safeInitial(member.name),
                                                  ^^^^^^
  lib/screens/family/family_members_screen.dart:207:37: Error: Method invocation is not a constant expression.
                          StringUtils.safeInitial(member.name),
                                      ^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:211:48: Error: Not a constant expression.
                            color: _getRoleColor(member.role),
                                                 ^^^^^^
  lib/screens/family/family_members_screen.dart:211:34: Error: Not a constant expression.
                            color: _getRoleColor(member.role),
                                   ^^^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:226:27: Error: Not a constant expression.
                            member.name,
                            ^^^^^^
  lib/screens/family/family_members_screen.dart:244:43: Error: Not a constant expression.
                              _getRoleLabel(member.role),
                                            ^^^^^^
  lib/screens/family/family_members_screen.dart:247:52: Error: Not a constant expression.
                                color: _getRoleColor(member.role),
                                                     ^^^^^^
  lib/screens/family/family_members_screen.dart:247:38: Error: Not a constant expression.
                                color: _getRoleColor(member.role),
                                       ^^^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:244:29: Error: Not a constant expression.
                              _getRoleLabel(member.role),
                              ^^^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:256:23: Error: Not a constant expression.
                        member.email,
                        ^^^^^^
  lib/screens/family/family_members_screen.dart:272:46: Error: Not a constant expression.
                            '加入于 ${_formatDate(member.joinedAt)}',
                                               ^^^^^^
  lib/screens/family/family_members_screen.dart:272:34: Error: Not a constant expression.
                            '加入于 ${_formatDate(member.joinedAt)}',
                                   ^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:287:57: Error: Not a constant expression.
                              '最近访问 ${_formatRelativeTime(member.lastAccessedAt!)}',
                                                          ^^^^^^
  lib/screens/family/family_members_screen.dart:287:37: Error: Not a constant expression.
                              '最近访问 ${_formatRelativeTime(member.lastAccessedAt!)}',
                                      ^^^^^^^^^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:446:43: Error: Not a constant expression.
                content: const Text('更新失败: $e'),
                                            ^
  lib/screens/family/family_members_screen.dart:464:37: Error: Not a constant expression.
          content: const Text('确定要将 ${member.name} 从家庭中移除吗？'),
                                      ^^^^^^
  lib/screens/family/family_members_screen.dart:500:41: Error: Not a constant expression.
              content: const Text('移除失败: $e'),
                                          ^
  lib/screens/family/family_members_screen.dart:617:45: Error: Not a constant expression.
                      StringUtils.safeInitial(member.name),
                                              ^^^^^^
  lib/screens/family/family_members_screen.dart:617:33: Error: Method invocation is not a constant expression.
                      StringUtils.safeInitial(member.name),
                                  ^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:624:13: Error: Not a constant expression.
              member.name,
              ^^^^^^
  lib/screens/family/family_members_screen.dart:632:13: Error: Not a constant expression.
              member.email,
              ^^^^^^
  lib/screens/family/family_members_screen.dart:673:15: Error: Not a constant expression.
              '$label:',
                ^^^^^
  lib/screens/family/family_members_screen.dart:681:13: Error: Not a constant expression.
              value,
              ^^^^^
  lib/screens/family/family_members_screen.dart:708:17: Error: Not a constant expression.
                  entry.value ? Icons.check_circle : Icons.cancel,
                  ^^^^^
  lib/screens/family/family_members_screen.dart:710:24: Error: Not a constant expression.
                  color: entry.value ? Colors.green : Colors.grey[400],
                         ^^^^^
  lib/screens/family/family_members_screen.dart:714:34: Error: Not a constant expression.
                  permissionLabels[entry.key] ?? entry.key,
                                   ^^^^^
  lib/screens/family/family_members_screen.dart:714:17: Error: Not a constant expression.
                  permissionLabels[entry.key] ?? entry.key,
                  ^^^^^^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:714:48: Error: Not a constant expression.
                  permissionLabels[entry.key] ?? entry.key,
                                                 ^^^^^
  lib/screens/family/family_members_screen.dart:772:29: Error: Not a constant expression.
            const Text('成员: ${widget.member.name}'),
                              ^^^^^^
  lib/screens/family/family_members_screen.dart:772:36: Error: Not a constant expression.
            const Text('成员: ${widget.member.name}'),
                                     ^^^^^^
  lib/screens/family/family_members_screen.dart:776:47: Error: Not a constant expression.
                title: const Text(_getRoleLabel(role)),
                                                ^^^^
  lib/screens/family/family_members_screen.dart:776:33: Error: Not a constant expression.
                title: const Text(_getRoleLabel(role)),
                                  ^^^^^^^^^^^^^
  lib/screens/family/family_members_screen.dart:777:56: Error: Not a constant expression.
                subtitle: const Text(_getRoleDescription(role)),
                                                         ^^^^
  lib/screens/family/family_members_screen.dart:777:36: Error: Not a constant expression.
                subtitle: const Text(_getRoleDescription(role)),
                                     ^^^^^^^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:129:47: Error: Expected ',' before this.
                                  _getTypeconst Icon(_selectedType),
                                                ^^^^
  lib/screens/family/family_settings_screen.dart:129:52: Error: Not a constant expression.
                                  _getTypeconst Icon(_selectedType),
                                                     ^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:131:40: Error: Not a constant expression.
                                  color: theme.primaryColor,
                                         ^^^^^
  lib/screens/family/family_settings_screen.dart:129:33: Error: Not a constant expression.
                                  _getTypeconst Icon(_selectedType),
                                  ^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:129:47: Error: Not a constant expression.
                                  _getTypeconst Icon(_selectedType),
                                                ^^^^
  lib/screens/family/family_settings_screen.dart:128:37: Error: Not a constant expression.
                              ? const Icon(
                                      ^^^^
  lib/screens/family/family_settings_screen.dart:142:41: Error: Not a constant expression.
                              icon: const Icon(
                                          ^^^^
  lib/screens/family/family_settings_screen.dart:189:41: Error: Not a constant expression.
                        prefixIcon: const Icon(Icons.home),
                                          ^^^^
  lib/screens/family/family_settings_screen.dart:205:60: Error: Expected ',' before this.
                        prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                                             ^^^^
  lib/screens/family/family_settings_screen.dart:205:65: Error: Not a constant expression.
                        prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                                                  ^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:205:46: Error: Not a constant expression.
                        prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                               ^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:205:60: Error: Not a constant expression.
                        prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                                             ^^^^
  lib/screens/family/family_settings_screen.dart:205:41: Error: Not a constant expression.
                        prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                          ^^^^
  lib/screens/family/family_settings_screen.dart:215:54: Error: Expected ',' before this.
                              const Icon(_getTypeconst Icon(type), size: 20),
                                                       ^^^^
  lib/screens/family/family_settings_screen.dart:215:59: Error: Not a constant expression.
                              const Icon(_getTypeconst Icon(type), size: 20),
                                                            ^^^^
  lib/screens/family/family_settings_screen.dart:215:40: Error: Not a constant expression.
                              const Icon(_getTypeconst Icon(type), size: 20),
                                         ^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:215:54: Error: Not a constant expression.
                              const Icon(_getTypeconst Icon(type), size: 20),
                                                       ^^^^
  lib/screens/family/family_settings_screen.dart:215:35: Error: Not a constant expression.
                              const Icon(_getTypeconst Icon(type), size: 20),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:217:40: Error: Not a constant expression.
                              const Text(type.label),
                                         ^^^^
  lib/screens/family/family_settings_screen.dart:243:41: Error: Not a constant expression.
                        prefixIcon: const Icon(Icons.description),
                                          ^^^^
  lib/screens/family/family_settings_screen.dart:276:34: Error: Not a constant expression.
                    leading: const Icon(Icons.people),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:279:56: Error: Not a constant expression.
                      data: (members) => const Text('共 ${members.length} 位成员'),
                                                         ^^^^^^^
  lib/screens/family/family_settings_screen.dart:283:35: Error: Not a constant expression.
                    trailing: const Icon(Icons.arrow_forward_ios, size: 16),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:295:34: Error: Not a constant expression.
                    leading: const Icon(Icons.person_add),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:297:35: Error: Not a constant expression.
                    trailing: const Icon(Icons.arrow_forward_ios, size: 16),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:301:34: Error: Not a constant expression.
                    leading: const Icon(Icons.link),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:304:35: Error: Not a constant expression.
                    trailing: const Icon(Icons.arrow_forward_ios, size: 16),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:308:34: Error: Not a constant expression.
                    leading: const Icon(Icons.qr_code),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:311:35: Error: Not a constant expression.
                    trailing: const Icon(Icons.arrow_forward_ios, size: 16),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:322:34: Error: Not a constant expression.
                    leading: const Icon(Icons.backup),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:325:35: Error: Not a constant expression.
                    trailing: const Icon(Icons.arrow_forward_ios, size: 16),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:329:34: Error: Not a constant expression.
                    leading: const Icon(Icons.history),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:332:35: Error: Not a constant expression.
                    trailing: const Icon(Icons.arrow_forward_ios, size: 16),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:336:34: Error: Not a constant expression.
                    leading: const Icon(Icons.archive),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:339:35: Error: Not a constant expression.
                    trailing: const Icon(Icons.arrow_forward_ios, size: 16),
                                    ^^^^
  lib/screens/family/family_settings_screen.dart:351:34: Error: Not a constant expression.
                    leading: const Icon(Icons.exit_to_app, color: Colors.orange),
                                   ^^^^
  lib/screens/family/family_settings_screen.dart:360:31: Error: Not a constant expression.
                          const Icon(Icons.delete_forever, color: Colors.red),
                                ^^^^
  lib/screens/family/family_settings_screen.dart:380:11: Error: Not a constant expression.
            value,
            ^^^^^
  lib/screens/family/family_settings_screen.dart:388:11: Error: Not a constant expression.
            label,
            ^^^^^
  lib/screens/family/family_settings_screen.dart:413:22: Error: Not a constant expression.
                color: titleColor ?? Colors.grey[700],
                       ^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:409:13: Error: Not a constant expression.
              title,
              ^^^^^
  lib/screens/family/family_settings_screen.dart:471:41: Error: Not a constant expression.
              content: const Text('保存失败: $e'),
                                          ^
  lib/screens/family/family_settings_screen.dart:560:38: Error: Not a constant expression.
          content: const Text('确定要退出"${widget.ledger.name}"吗？退出后需要重新邀请才能加入。'),
                                       ^^^^^^
  lib/screens/family/family_settings_screen.dart:560:45: Error: Not a constant expression.
          content: const Text('确定要退出"${widget.ledger.name}"吗？退出后需要重新邀请才能加入。'),
                                              ^^^^^^
  lib/screens/family/family_settings_screen.dart:595:48: Error: Not a constant expression.
                content: const Text('获取统计信息失败: ${e.toString()}'),
                                                 ^
  lib/screens/family/family_settings_screen.dart:595:50: Error: Method invocation is not a constant expression.
                content: const Text('获取统计信息失败: ${e.toString()}'),
                                                   ^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:54:15: Error: Not a constant expression.
                widget.ledger.name,
                ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:54:22: Error: Not a constant expression.
                widget.ledger.name,
                       ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:55:31: Error: Not a constant expression.
                style: Theme.of(context).textTheme.bodySmall?.copyWith(
                                ^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:55:28: Error: Method invocation is not a constant expression.
                style: Theme.of(context).textTheme.bodySmall?.copyWith(
                             ^^
  lib/screens/family/family_dashboard_screen.dart:55:40: Error: Not a constant expression.
                style: Theme.of(context).textTheme.bodySmall?.copyWith(
                                         ^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:55:61: Error: Method invocation is not a constant expression.
                style: Theme.of(context).textTheme.bodySmall?.copyWith(
                                                              ^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:172:32: Error: Not a constant expression.
              const Text('加载失败: $error'),
                                 ^^^^^
  lib/screens/family/family_dashboard_screen.dart:225:21: Error: Not a constant expression.
                      _selectedPeriod,
                      ^^^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:236:18: Error: Not a constant expression.
                '${widget.ledger.currency} ${_formatAmount(netWorth)}',
                   ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:236:25: Error: Not a constant expression.
                '${widget.ledger.currency} ${_formatAmount(netWorth)}',
                          ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:236:58: Error: Not a constant expression.
                '${widget.ledger.currency} ${_formatAmount(netWorth)}',
                                                           ^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:236:44: Error: Not a constant expression.
                '${widget.ledger.currency} ${_formatAmount(netWorth)}',
                                             ^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:247:19: Error: Not a constant expression.
                    isPositive ? Icons.trending_up : Icons.trending_down,
                    ^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:253:19: Error: Not a constant expression.
                    isPositive ? '资产健康' : '需要关注',
                    ^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:284:19: Error: Not a constant expression.
                    title,
                    ^^^^^
  lib/screens/family/family_dashboard_screen.dart:294:29: Error: Not a constant expression.
                _formatAmount(amount),
                              ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:298:24: Error: Not a constant expression.
                  color: color,
                         ^^^^^
  lib/screens/family/family_dashboard_screen.dart:294:15: Error: Not a constant expression.
                _formatAmount(amount),
                ^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:330:53: Error: Not a constant expression.
                    sections: _createPieChartSections(stats.accountTypeBreakdown),
                                                      ^^^^^
  lib/screens/family/family_dashboard_screen.dart:330:29: Error: Not a constant expression.
                    sections: _createPieChartSections(stats.accountTypeBreakdown),
                              ^^^^^^^^^^^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:329:17: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                  PieChartData(
                  ^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:402:39: Error: Not a constant expression.
                '${_getAccountTypeLabel(item.key)} ${item.value.toStringAsFixed(1)}%',
                                        ^^^^
  lib/screens/family/family_dashboard_screen.dart:402:52: Error: Not a constant expression.
                '${_getAccountTypeLabel(item.key)} ${item.value.toStringAsFixed(1)}%',
                                                     ^^^^
  lib/screens/family/family_dashboard_screen.dart:402:63: Error: Method invocation is not a constant expression.
                '${_getAccountTypeLabel(item.key)} ${item.value.toStringAsFixed(1)}%',
                                                                ^^^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:402:18: Error: Not a constant expression.
                '${_getAccountTypeLabel(item.key)} ${item.value.toStringAsFixed(1)}%',
                   ^^^^^^^^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:468:11: Error: Not a constant expression.
            value,
            ^^^^^
  lib/screens/family/family_dashboard_screen.dart:476:11: Error: Not a constant expression.
            label,
            ^^^^^
  lib/screens/family/family_dashboard_screen.dart:556:61: Error: Not a constant expression.
        error: (error, _) => Center(child: const Text('加载失败: $error')),
                                                              ^^^^^
  lib/screens/family/family_dashboard_screen.dart:583:47: Error: Not a constant expression.
                      getDrawingHorizontalLine: (value) {
                                                ^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:605:31: Error: Not a constant expression.
                            if (value.toInt() < months.length) {
                                ^^^^^
  lib/screens/family/family_dashboard_screen.dart:605:37: Error: Method invocation is not a constant expression.
                            if (value.toInt() < months.length) {
                                      ^^^^^
  lib/screens/family/family_dashboard_screen.dart:605:47: Error: Not a constant expression.
                            if (value.toInt() < months.length) {
                                                ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:607:38: Error: Not a constant expression.
                                months[value.toInt()].substring(5),
                                       ^^^^^
  lib/screens/family/family_dashboard_screen.dart:607:44: Error: Method invocation is not a constant expression.
                                months[value.toInt()].substring(5),
                                             ^^^^^
  lib/screens/family/family_dashboard_screen.dart:607:31: Error: Not a constant expression.
                                months[value.toInt()].substring(5),
                                ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:607:53: Error: Method invocation is not a constant expression.
                                months[value.toInt()].substring(5),
                                                      ^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:603:42: Error: Not a constant expression.
                          getTitlesWidget: (value, meta) {
                                           ^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:616:31: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                    borderData: FlBorderData(show: false),
                                ^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:619:30: Error: Not a constant expression.
                        spots: monthlyTrend.entries
                               ^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:620:28: Error: Method invocation is not a constant expression.
                            .toList()
                             ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:621:28: Error: Method invocation is not a constant expression.
                            .asMap()
                             ^^^^^
  lib/screens/family/family_dashboard_screen.dart:624:39: Error: Not a constant expression.
                          return FlSpot(entry.key.toDouble(), entry.value.value);
                                        ^^^^^
  lib/screens/family/family_dashboard_screen.dart:624:49: Error: Method invocation is not a constant expression.
                          return FlSpot(entry.key.toDouble(), entry.value.value);
                                                  ^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:624:61: Error: Not a constant expression.
                          return FlSpot(entry.key.toDouble(), entry.value.value);
                                                              ^^^^^
  lib/screens/family/family_dashboard_screen.dart:624:67: Error: Not a constant expression.
                          return FlSpot(entry.key.toDouble(), entry.value.value);
                                                                    ^^^^^
  lib/screens/family/family_dashboard_screen.dart:623:32: Error: Not a constant expression.
                            .map((entry) {
                                 ^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:623:28: Error: Method invocation is not a constant expression.
                            .map((entry) {
                             ^^^
  lib/screens/family/family_dashboard_screen.dart:625:26: Error: Method invocation is not a constant expression.
                        }).toList(),
                           ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:627:39: Error: Not a constant expression.
                        color: Theme.of(context).primaryColor,
                                        ^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:627:36: Error: Method invocation is not a constant expression.
                        color: Theme.of(context).primaryColor,
                                     ^^
  lib/screens/family/family_dashboard_screen.dart:632:41: Error: Not a constant expression.
                          color: Theme.of(context).primaryColor.withValues(alpha: 0.1),
                                          ^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:632:38: Error: Method invocation is not a constant expression.
                          color: Theme.of(context).primaryColor.withValues(alpha: 0.1),
                                       ^^
  lib/screens/family/family_dashboard_screen.dart:632:63: Error: Method invocation is not a constant expression.
                          color: Theme.of(context).primaryColor.withValues(alpha: 0.1),
                                                                ^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:630:37: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                        belowBarData: BarAreaData(
                                      ^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:618:21: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                      LineChartBarData(
                      ^^^^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:578:17: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                  LineChartData(
                  ^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:707:40: Error: Not a constant expression.
                  title: const Text('共 ${members.length} 位成员'),
                                         ^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:730:58: Error: Not a constant expression.
                      ? const Text(StringUtils.safeInitial(member.name))
                                                           ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:730:46: Error: Method invocation is not a constant expression.
                      ? const Text(StringUtils.safeInitial(member.name))
                                               ^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:733:33: Error: Not a constant expression.
                title: const Text(member.name),
                                  ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:734:36: Error: Not a constant expression.
                subtitle: const Text(member.role.label),
                                     ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:734:43: Error: Not a constant expression.
                subtitle: const Text(member.role.label),
                                            ^^^^
  lib/screens/family/family_dashboard_screen.dart:737:43: Error: Not a constant expression.
                        _formatRelativeDate(member.lastAccessedAt!),
                                            ^^^^^^
  lib/screens/family/family_dashboard_screen.dart:737:23: Error: Not a constant expression.
                        _formatRelativeDate(member.lastAccessedAt!),
                        ^^^^^^^^^^^^^^^^^^^
  lib/screens/family/family_dashboard_screen.dart:746:61: Error: Not a constant expression.
        error: (error, _) => Center(child: const Text('加载失败: $error')),
                                                              ^^^^^
  lib/widgets/wechat_login_button.dart:85:20: Error: Not a constant expression.
          onPressed: _isLoading ? null : _handleWeChatLogin,
                     ^^^^^^^^^^
  lib/widgets/wechat_login_button.dart:85:40: Error: Not a constant expression.
          onPressed: _isLoading ? null : _handleWeChatLogin,
                                         ^^^^^^^^^^^^^^^^^^
  lib/widgets/wechat_login_button.dart:90:40: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
              borderRadius: BorderRadius.circular(8),
                                         ^^^^^^^^
  lib/widgets/wechat_login_button.dart:86:31: Error: Method invocation is not a constant expression.
          style: OutlinedButton.styleFrom(
                                ^^^^^^^^^
  lib/widgets/wechat_login_button.dart:93:15: Error: Not a constant expression.
          icon: _isLoading
                ^^^^^^^^^^
  lib/widgets/wechat_login_button.dart:104:11: Error: Not a constant expression.
            widget.buttonText,
            ^^^^^^
  lib/widgets/wechat_login_button.dart:84:29: Error: Cannot invoke a non-'const' factory where a const expression is expected.
  Try using a constructor or factory that is 'const'.
        child: OutlinedButton.icon(
                              ^^^^
  lib/widgets/wechat_login_button.dart:171:27: Error: Not a constant expression.
                            weChatInfo!.nickname,
                            ^^^^^^^^^^
  lib/widgets/wechat_login_button.dart:175:30: Error: Not a constant expression.
                            '${weChatInfo!.country} ${weChatInfo!.province} ${weChatInfo!.city}',
                               ^^^^^^^^^^
  lib/widgets/wechat_login_button.dart:175:53: Error: Not a constant expression.
                            '${weChatInfo!.country} ${weChatInfo!.province} ${weChatInfo!.city}',
                                                      ^^^^^^^^^^
  lib/widgets/wechat_login_button.dart:175:77: Error: Not a constant expression.
                            '${weChatInfo!.country} ${weChatInfo!.province} ${weChatInfo!.city}',
                                                                              ^^^^^^^^^^
  lib/widgets/wechat_login_button.dart:231:58: Error: Not a constant expression.
                      SnackBar(content: const Text('绑定失败: $error')),
                                                           ^^^^^
  lib/ui/components/dashboard/quick_actions.dart:105:24: Error: Not a constant expression.
                  color: color,
                         ^^^^^
  lib/ui/components/dashboard/quick_actions.dart:104:17: Error: Not a constant expression.
                  icon,
                  ^^^^
  lib/ui/components/dashboard/quick_actions.dart:112:26: Error: Not a constant expression.
                    color: color,
                           ^^^^^
  lib/ui/components/dashboard/quick_actions.dart:110:17: Error: Not a constant expression.
                  label,
                  ^^^^^
  lib/ui/components/dashboard/account_overview.dart:25:33: Error: Not a constant expression.
              const Text('加载失败: ${accountState.errorMessage}'),
                                  ^^^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:69:39: Error: Not a constant expression.
              child: const Text('查看全部 ${accountList.length} 个账户'),
                                        ^^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:87:33: Error: Not a constant expression.
                  color: Theme.of(context).primaryColor,
                                  ^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:87:30: Error: Method invocation is not a constant expression.
                  color: Theme.of(context).primaryColor,
                               ^^
  lib/ui/components/dashboard/account_overview.dart:122:15: Error: Not a constant expression.
                assets,
                ^^^^^^
  lib/ui/components/dashboard/account_overview.dart:120:20: Error: Not a constant expression.
              child: _buildOverviewCard(
                     ^^^^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:131:15: Error: Not a constant expression.
                liabilities,
                ^^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:129:20: Error: Not a constant expression.
              child: _buildOverviewCard(
                     ^^^^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:141:15: Error: Not a constant expression.
                netWorth >= 0 ? Colors.blue : Colors.orange,
                ^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:140:15: Error: Not a constant expression.
                netWorth,
                ^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:138:20: Error: Not a constant expression.
              child: _buildOverviewCard(
                     ^^^^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:173:26: Error: Not a constant expression.
                    color: color,
                           ^^^^^
  lib/ui/components/dashboard/account_overview.dart:170:17: Error: Not a constant expression.
                  title,
                  ^^^^^
  lib/ui/components/dashboard/account_overview.dart:181:17: Error: Not a constant expression.
              '¥${amount.abs().toStringAsFixed(2)}',
                  ^^^^^^
  lib/ui/components/dashboard/account_overview.dart:181:24: Error: Method invocation is not a constant expression.
              '¥${amount.abs().toStringAsFixed(2)}',
                         ^^^
  lib/ui/components/dashboard/account_overview.dart:181:30: Error: Method invocation is not a constant expression.
              '¥${amount.abs().toStringAsFixed(2)}',
                               ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:184:22: Error: Not a constant expression.
                color: color,
                       ^^^^^
  lib/ui/components/dashboard/account_overview.dart:205:13: Error: Not a constant expression.
              account.icon,
              ^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:206:20: Error: Not a constant expression.
              color: account.displayColor,
                     ^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:211:11: Error: Not a constant expression.
            account.name,
            ^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:215:11: Error: Not a constant expression.
            account.type.label,
            ^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:215:19: Error: Not a constant expression.
            account.type.label,
                    ^^^^
  lib/ui/components/dashboard/account_overview.dart:223:15: Error: Not a constant expression.
                account.formattedBalance,
                ^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:227:24: Error: Not a constant expression.
                  color: isNegative ? Colors.red : Colors.green,
                         ^^^^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:232:36: Error: Not a constant expression.
                  _formatLastUpdated(account.lastTransactionDate),
                                     ^^^^^^^
  lib/ui/components/dashboard/account_overview.dart:232:17: Error: Not a constant expression.
                  _formatLastUpdated(account.lastTransactionDate),
                  ^^^^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:41:26: Error: Not a constant expression.
                    style: theme.textTheme.titleMedium?.copyWith(
                           ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:41:32: Error: Not a constant expression.
                    style: theme.textTheme.titleMedium?.copyWith(
                                 ^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:41:55: Error: Method invocation is not a constant expression.
                    style: theme.textTheme.titleMedium?.copyWith(
                                                        ^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:40:19: Error: Not a constant expression.
                    title,
                    ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:61:34: Error: Not a constant expression.
                            style: theme.textTheme.bodySmall?.copyWith(
                                   ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:61:40: Error: Not a constant expression.
                            style: theme.textTheme.bodySmall?.copyWith(
                                         ^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:62:36: Error: Not a constant expression.
                              color: theme.primaryColor,
                                     ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:61:61: Error: Method invocation is not a constant expression.
                            style: theme.textTheme.bodySmall?.copyWith(
                                                              ^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:70:34: Error: Not a constant expression.
                            color: theme.primaryColor,
                                   ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:109:30: Error: Not a constant expression.
                        color: theme.colorScheme.onSurface.withValues(alpha: 0.3),
                               ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:109:36: Error: Not a constant expression.
                        color: theme.colorScheme.onSurface.withValues(alpha: 0.3),
                                     ^^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:109:58: Error: Method invocation is not a constant expression.
                        color: theme.colorScheme.onSurface.withValues(alpha: 0.3),
                                                           ^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:114:30: Error: Not a constant expression.
                        style: theme.textTheme.bodyMedium?.copyWith(
                               ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:114:36: Error: Not a constant expression.
                        style: theme.textTheme.bodyMedium?.copyWith(
                                     ^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:115:32: Error: Not a constant expression.
                          color: theme.colorScheme.onSurface.withValues(alpha: 0.5),
                                 ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:115:38: Error: Not a constant expression.
                          color: theme.colorScheme.onSurface.withValues(alpha: 0.5),
                                       ^^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:115:60: Error: Method invocation is not a constant expression.
                          color: theme.colorScheme.onSurface.withValues(alpha: 0.5),
                                                             ^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:114:58: Error: Method invocation is not a constant expression.
                        style: theme.textTheme.bodyMedium?.copyWith(
                                                           ^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:164:26: Error: Not a constant expression.
                    style: theme.textTheme.titleMedium?.copyWith(
                           ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:164:32: Error: Not a constant expression.
                    style: theme.textTheme.titleMedium?.copyWith(
                                 ^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:164:55: Error: Method invocation is not a constant expression.
                    style: theme.textTheme.titleMedium?.copyWith(
                                                        ^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:163:19: Error: Not a constant expression.
                    title,
                    ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:194:30: Error: Not a constant expression.
                        color: theme.colorScheme.onSurface.withValues(alpha: 0.3),
                               ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:194:36: Error: Not a constant expression.
                        color: theme.colorScheme.onSurface.withValues(alpha: 0.3),
                                     ^^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:194:58: Error: Method invocation is not a constant expression.
                        color: theme.colorScheme.onSurface.withValues(alpha: 0.3),
                                                           ^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:199:30: Error: Not a constant expression.
                        style: theme.textTheme.bodyMedium?.copyWith(
                               ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:199:36: Error: Not a constant expression.
                        style: theme.textTheme.bodyMedium?.copyWith(
                                     ^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:200:32: Error: Not a constant expression.
                          color: theme.colorScheme.onSurface.withValues(alpha: 0.5),
                                 ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:200:38: Error: Not a constant expression.
                          color: theme.colorScheme.onSurface.withValues(alpha: 0.5),
                                       ^^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:200:60: Error: Method invocation is not a constant expression.
                          color: theme.colorScheme.onSurface.withValues(alpha: 0.5),
                                                             ^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:199:58: Error: Method invocation is not a constant expression.
                        style: theme.textTheme.bodyMedium?.copyWith(
                                                           ^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:223:29: Error: Not a constant expression.
                  _formatDate(date),
                              ^^^^
  lib/ui/components/dashboard/recent_transactions.dart:224:24: Error: Not a constant expression.
                  style: theme.textTheme.bodySmall?.copyWith(
                         ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:224:30: Error: Not a constant expression.
                  style: theme.textTheme.bodySmall?.copyWith(
                               ^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:225:26: Error: Not a constant expression.
                    color: theme.colorScheme.onSurface.withValues(alpha: 0.6),
                           ^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:225:32: Error: Not a constant expression.
                    color: theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                 ^^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:225:54: Error: Method invocation is not a constant expression.
                    color: theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                                       ^^^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:224:51: Error: Method invocation is not a constant expression.
                  style: theme.textTheme.bodySmall?.copyWith(
                                                    ^^^^^^^^
  lib/ui/components/dashboard/recent_transactions.dart:223:17: Error: Not a constant expression.
                  _formatDate(date),
                  ^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:61:43: Error: Not a constant expression.
                  child: const Text('查看全部 ${budgetList.length} 个预算'),
                                            ^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:72:19: Error: Not a constant expression.
              const Icon(Icons.error_outline, color: Colors.red),
                    ^^^^
  lib/ui/components/dashboard/budget_summary.dart:74:32: Error: Not a constant expression.
              const Text('加载失败: $error'),
                                 ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:97:33: Error: Not a constant expression.
                  color: Theme.of(context).primaryColor,
                                  ^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:97:30: Error: Method invocation is not a constant expression.
                  color: Theme.of(context).primaryColor,
                               ^^
  lib/ui/components/dashboard/budget_summary.dart:94:21: Error: Not a constant expression.
                const Icon(
                      ^^^^
  lib/ui/components/dashboard/budget_summary.dart:166:27: Error: Not a constant expression.
                        '¥${totalBudget.toStringAsFixed(2)}',
                            ^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:166:39: Error: Method invocation is not a constant expression.
                        '¥${totalBudget.toStringAsFixed(2)}',
                                        ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:181:32: Error: Not a constant expression.
                          value: spentPercentage.clamp(0.0, 1.0),
                                 ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:181:48: Error: Method invocation is not a constant expression.
                          value: spentPercentage.clamp(0.0, 1.0),
                                                 ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:184:59: Error: Not a constant expression.
                              AlwaysStoppedAnimation<Color>(warningLevel.color),
                                                            ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:191:31: Error: Not a constant expression.
                            '${(spentPercentage * 100).toStringAsFixed(0)}%',
                                ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:191:54: Error: Method invocation is not a constant expression.
                            '${(spentPercentage * 100).toStringAsFixed(0)}%',
                                                       ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:195:36: Error: Not a constant expression.
                              color: warningLevel.color,
                                     ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:223:21: Error: Not a constant expression.
                      warningLevel.icon,
                      ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:224:28: Error: Not a constant expression.
                      color: warningLevel.color,
                             ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:222:25: Error: Not a constant expression.
                    const Icon(
                          ^^^^
  lib/ui/components/dashboard/budget_summary.dart:230:23: Error: Not a constant expression.
                        warningLevel.message,
                        ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:232:32: Error: Not a constant expression.
                          color: warningLevel.color,
                                 ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:264:11: Error: Not a constant expression.
            label,
            ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:272:11: Error: Not a constant expression.
            suffix.isEmpty
            ^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:273:21: Error: Not a constant expression.
                ? '¥${value.toStringAsFixed(2)}'
                      ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:273:27: Error: Method invocation is not a constant expression.
                ? '¥${value.toStringAsFixed(2)}'
                            ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:274:20: Error: Not a constant expression.
                : '${value.toInt()}$suffix',
                     ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:274:26: Error: Method invocation is not a constant expression.
                : '${value.toInt()}$suffix',
                           ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:274:35: Error: Not a constant expression.
                : '${value.toInt()}$suffix',
                                    ^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:278:20: Error: Not a constant expression.
              color: color,
                     ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:312:41: Error: Expected ',' before this.
                        _getCategoryconst Icon(budget.category),
                                          ^^^^
  lib/ui/components/dashboard/budget_summary.dart:312:46: Error: Not a constant expression.
                        _getCategoryconst Icon(budget.category),
                                               ^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:313:48: Error: Not a constant expression.
                        color: _getCategoryColor(budget.category),
                                                 ^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:313:30: Error: Not a constant expression.
                        color: _getCategoryColor(budget.category),
                               ^^^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:312:23: Error: Not a constant expression.
                        _getCategoryconst Icon(budget.category),
                        ^^^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:312:41: Error: Not a constant expression.
                        _getCategoryconst Icon(budget.category),
                                          ^^^^
  lib/ui/components/dashboard/budget_summary.dart:311:34: Error: Not a constant expression.
                      child: const Icon(
                                   ^^^^
  lib/ui/components/dashboard/budget_summary.dart:323:27: Error: Not a constant expression.
                            budget.name ?? budget.category ?? '未分类',
                            ^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:323:42: Error: Not a constant expression.
                            budget.name ?? budget.category ?? '未分类',
                                           ^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:329:31: Error: Not a constant expression.
                            '¥${spent.toStringAsFixed(2)} / ¥${amount.toStringAsFixed(2)}',
                                ^^^^^
  lib/ui/components/dashboard/budget_summary.dart:329:37: Error: Method invocation is not a constant expression.
                            '¥${spent.toStringAsFixed(2)} / ¥${amount.toStringAsFixed(2)}',
                                      ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:329:62: Error: Not a constant expression.
                            '¥${spent.toStringAsFixed(2)} / ¥${amount.toStringAsFixed(2)}',
                                                               ^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:329:69: Error: Method invocation is not a constant expression.
                            '¥${spent.toStringAsFixed(2)} / ¥${amount.toStringAsFixed(2)}',
                                                                      ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:342:25: Error: Not a constant expression.
                          isOverBudget ? '超支' : '剩余',
                          ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:345:34: Error: Not a constant expression.
                            color: isOverBudget ? Colors.red : Colors.green,
                                   ^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:349:29: Error: Not a constant expression.
                          '¥${remaining.abs().toStringAsFixed(2)}',
                              ^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:349:39: Error: Method invocation is not a constant expression.
                          '¥${remaining.abs().toStringAsFixed(2)}',
                                        ^^^
  lib/ui/components/dashboard/budget_summary.dart:349:45: Error: Method invocation is not a constant expression.
                          '¥${remaining.abs().toStringAsFixed(2)}',
                                              ^^^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:353:34: Error: Not a constant expression.
                            color: isOverBudget ? Colors.red : Colors.green,
                                   ^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:51:31: Error: Expected ',' before this.
                _getLedgerconst Icon(currentLedger?.type ?? LedgerType.family),
                                ^^^^
  lib/widgets/family_switcher.dart:51:36: Error: Not a constant expression.
                _getLedgerconst Icon(currentLedger?.type ?? LedgerType.family),
                                     ^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:53:22: Error: Not a constant expression.
                color: theme.primaryColor,
                       ^^^^^
  lib/widgets/family_switcher.dart:51:15: Error: Not a constant expression.
                _getLedgerconst Icon(currentLedger?.type ?? LedgerType.family),
                ^^^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:51:31: Error: Not a constant expression.
                _getLedgerconst Icon(currentLedger?.type ?? LedgerType.family),
                                ^^^^
  lib/widgets/family_switcher.dart:50:19: Error: Not a constant expression.
              const Icon(
                    ^^^^
  lib/widgets/family_switcher.dart:59:17: Error: Not a constant expression.
                  currentLedger?.name ?? '选择家庭',
                  ^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:61:26: Error: Not a constant expression.
                    color: theme.primaryColor,
                           ^^^^^
  lib/widgets/family_switcher.dart:70:22: Error: Not a constant expression.
                color: theme.primaryColor,
                       ^^^^^
  lib/widgets/family_switcher.dart:68:19: Error: Not a constant expression.
              const Icon(
                    ^^^^
  lib/widgets/family_switcher.dart:98:39: Error: Expected ',' before this.
                        _getLedgerconst Icon(ledger.type),
                                        ^^^^
  lib/widgets/family_switcher.dart:98:44: Error: Not a constant expression.
                        _getLedgerconst Icon(ledger.type),
                                             ^^^^^^
  lib/widgets/family_switcher.dart:100:30: Error: Not a constant expression.
                        color: isSelected ? theme.primaryColor : Colors.grey[600],
                               ^^^^^^^^^^
  lib/widgets/family_switcher.dart:100:43: Error: Not a constant expression.
                        color: isSelected ? theme.primaryColor : Colors.grey[600],
                                            ^^^^^
  lib/widgets/family_switcher.dart:98:23: Error: Not a constant expression.
                        _getLedgerconst Icon(ledger.type),
                        ^^^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:98:39: Error: Not a constant expression.
                        _getLedgerconst Icon(ledger.type),
                                        ^^^^
  lib/widgets/family_switcher.dart:97:34: Error: Not a constant expression.
                      child: const Icon(
                                   ^^^^
  lib/widgets/family_switcher.dart:114:33: Error: Not a constant expression.
                                  ledger.name,
                                  ^^^^^^
  lib/widgets/family_switcher.dart:116:47: Error: Not a constant expression.
                                    fontWeight: isSelected
                                                ^^^^^^^^^^
  lib/widgets/family_switcher.dart:146:51: Error: Not a constant expression.
                                _getLedgerTypeLabel(ledger.type),
                                                    ^^^^^^
  lib/widgets/family_switcher.dart:146:31: Error: Not a constant expression.
                                _getLedgerTypeLabel(ledger.type),
                                ^^^^^^^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:153:35: Error: Not a constant expression.
                              const Icon(
                                    ^^^^
  lib/widgets/family_switcher.dart:160:33: Error: Not a constant expression.
                                '$memberCount',
                                  ^^^^^^^^^^^
  lib/widgets/family_switcher.dart:168:31: Error: Not a constant expression.
                                ledger.currency,
                                ^^^^^^
  lib/widgets/family_switcher.dart:185:30: Error: Not a constant expression.
                        color: theme.primaryColor,
                               ^^^^^
  lib/widgets/family_switcher.dart:182:27: Error: Not a constant expression.
                      const Icon(
                            ^^^^
  lib/widgets/family_switcher.dart:209:32: Error: Not a constant expression.
                    child: const Icon(
                                 ^^^^
  lib/widgets/family_switcher.dart:257:32: Error: Not a constant expression.
                    child: const Icon(
                                 ^^^^
  lib/widgets/family_switcher.dart:294:46: Error: Not a constant expression.
                  content: const Text('已切换到: ${selectedLedger.name}'),
                                               ^^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:320:22: Error: Not a constant expression.
            const Text(currentLedger?.name ?? '加载中...'),
                       ^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:336:17: Error: Not a constant expression.
            const Icon(Icons.error_outline, size: 16, color: Colors.red),
                  ^^^^
  lib/widgets/family_switcher.dart:338:22: Error: Not a constant expression.
            const Text(currentLedger?.name ?? '加载失败'),
                       ^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:342:25: Error: Not a constant expression.
              icon: const Icon(Icons.copy, size: 16, color: Colors.red),
                          ^^^^
  lib/ui/components/transactions/transaction_list_item.dart:48:29: Error: Expected ',' before this.
                    _getconst Icon(),
                              ^^^^
  lib/ui/components/transactions/transaction_list_item.dart:49:26: Error: Not a constant expression.
                    color: _getIconColor(),
                           ^^^^^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:48:19: Error: Not a constant expression.
                    _getconst Icon(),
                    ^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:48:29: Error: Not a constant expression.
                    _getconst Icon(),
                              ^^^^
  lib/ui/components/transactions/transaction_list_item.dart:47:30: Error: Not a constant expression.
                  child: const Icon(
                               ^^^^
  lib/ui/components/transactions/transaction_list_item.dart:64:29: Error: Not a constant expression.
                              transaction.description ?? '未命名交易',
                              ^^^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:97:31: Error: Not a constant expression.
                          const Icon(
                                ^^^^
  lib/ui/components/transactions/transaction_list_item.dart:104:27: Error: Not a constant expression.
                            transaction.category ?? '未分类',
                            ^^^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:112:33: Error: Not a constant expression.
                            const Icon(
                                  ^^^^
  lib/ui/components/transactions/transaction_list_item.dart:119:29: Error: Not a constant expression.
                              transaction.account!,
                              ^^^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:137:24: Error: Not a constant expression.
                      '${isExpense ? '-' : isIncome ? '+' : ''}$formatted',
                         ^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:137:42: Error: Not a constant expression.
                      '${isExpense ? '-' : isIncome ? '+' : ''}$formatted',
                                           ^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:137:63: Error: Not a constant expression.
                      '${isExpense ? '-' : isIncome ? '+' : ''}$formatted',
                                                                ^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:141:30: Error: Not a constant expression.
                        color: isExpense
                               ^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:143:29: Error: Not a constant expression.
                            : isIncome
                              ^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:145:42: Error: Not a constant expression.
                                : Theme.of(context).textTheme.bodyLarge?.color,
                                           ^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:145:39: Error: Method invocation is not a constant expression.
                                : Theme.of(context).textTheme.bodyLarge?.color,
                                        ^^
  lib/ui/components/transactions/transaction_list_item.dart:145:51: Error: Not a constant expression.
                                : Theme.of(context).textTheme.bodyLarge?.color,
                                                    ^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:145:61: Error: Not a constant expression.
                                : Theme.of(context).textTheme.bodyLarge?.color,
                                                              ^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:150:33: Error: Not a constant expression.
                      _formatDate(transaction.date),
                                  ^^^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:150:21: Error: Not a constant expression.
                      _formatDate(transaction.date),
                      ^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:58:50: Error: Not a constant expression.
              content: const Text('${_getTypeLabel(_selectedType)}创建成功'),
                                                   ^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:58:36: Error: Not a constant expression.
              content: const Text('${_getTypeLabel(_selectedType)}创建成功'),
                                     ^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:67:42: Error: Not a constant expression.
              content: const Text('创建失败: ${e.toString()}'),
                                           ^
  lib/widgets/dialogs/create_family_dialog.dart:67:44: Error: Method invocation is not a constant expression.
              content: const Text('创建失败: ${e.toString()}'),
                                             ^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:140:28: Error: Not a constant expression.
                      color: theme.primaryColor,
                             ^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:138:25: Error: Not a constant expression.
                    const Icon(
                          ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:169:43: Error: Not a constant expression.
                          prefixIcon: const Icon(Icons.home),
                                            ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:191:62: Error: Expected ',' before this.
                          prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                                               ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:191:67: Error: Not a constant expression.
                          prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                                                    ^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:191:48: Error: Not a constant expression.
                          prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                                 ^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:191:62: Error: Not a constant expression.
                          prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                                               ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:191:43: Error: Not a constant expression.
                          prefixIcon: const Icon(_getTypeconst Icon(_selectedType)),
                                            ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:201:56: Error: Expected ',' before this.
                                const Icon(_getTypeconst Icon(type), size: 20),
                                                         ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:201:61: Error: Not a constant expression.
                                const Icon(_getTypeconst Icon(type), size: 20),
                                                              ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:201:42: Error: Not a constant expression.
                                const Icon(_getTypeconst Icon(type), size: 20),
                                           ^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:201:56: Error: Not a constant expression.
                                const Icon(_getTypeconst Icon(type), size: 20),
                                                         ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:201:37: Error: Not a constant expression.
                                const Icon(_getTypeconst Icon(type), size: 20),
                                      ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:203:56: Error: Not a constant expression.
                                const Text(_getTypeLabel(type)),
                                                         ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:203:42: Error: Not a constant expression.
                                const Text(_getTypeLabel(type)),
                                           ^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:221:43: Error: Not a constant expression.
                          prefixIcon: const Icon(Icons.attach_money),
                                            ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:266:43: Error: Not a constant expression.
                          prefixIcon: const Icon(Icons.description),
                                            ^^^^
  lib/widgets/dialogs/create_family_dialog.dart:304:36: Error: Not a constant expression.
                              color: theme.primaryColor,
                                     ^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:301:33: Error: Not a constant expression.
                            const Icon(
                                  ^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:92:41: Error: Not a constant expression.
              content: const Text('成功邀请 ${_emailList.length} 位成员'),
                                          ^^^^^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:101:42: Error: Not a constant expression.
              content: const Text('邀请失败: ${e.toString()}'),
                                           ^
  lib/widgets/dialogs/invite_member_dialog.dart:101:44: Error: Method invocation is not a constant expression.
              content: const Text('邀请失败: ${e.toString()}'),
                                             ^^^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:140:28: Error: Not a constant expression.
                      color: theme.primaryColor,
                             ^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:156:34: Error: Not a constant expression.
                          '邀请加入: ${widget.ledger.name}',
                                   ^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:156:41: Error: Not a constant expression.
                          '邀请加入: ${widget.ledger.name}',
                                          ^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:219:37: Error: Not a constant expression.
                            '待邀请成员 (${_emailList.length})',
                                      ^^^^^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:245:61: Error: Not a constant expression.
                                      StringUtils.safeInitial(email),
                                                              ^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:245:49: Error: Method invocation is not a constant expression.
                                      StringUtils.safeInitial(email),
                                                  ^^^^^^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:248:46: Error: Not a constant expression.
                                        color: theme.primaryColor,
                                               ^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:252:51: Error: Not a constant expression.
                                  title: const Text(email),
                                                    ^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:410:39: Error: Not a constant expression.
                      label: const Text(_isLoading ? '发送中...' : '发送邀请'),
                                        ^^^^^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:438:15: Error: Not a constant expression.
                permission,
                ^^^^^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:451:17: Error: Not a constant expression.
                  hasPermission ? Icons.check_circle : Icons.cancel,
                  ^^^^^^^^^^^^^
  lib/widgets/dialogs/invite_member_dialog.dart:453:24: Error: Not a constant expression.
                  color: hasPermission ? Colors.green : Colors.grey[400],
                         ^^^^^^^^^^^^^
  lib/widgets/theme_appearance.dart:28:47: Error: Not a constant expression.
                  const Icon(Icons.tune, color: cs.primary, size: 20),
                                                ^^
  lib/widgets/theme_appearance.dart:55:67: Error: Not a constant expression.
              leading: const Icon(Icons.crop_square_rounded, color: cs.secondary),
                                                                    ^^
  lib/widgets/theme_appearance.dart:85:38: Error: Not a constant expression.
                      size: 16, color: cs.onPrimaryContainer),
                                       ^^
  lib/widgets/theme_appearance.dart:89:57: Error: Not a constant expression.
                    style: TextStyle(fontSize: 12, color: cs.onPrimaryContainer),
                                                          ^^
  lib/screens/management/currency_selection_page.dart:80:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/screens/management/currency_selection_page.dart:161:33: Error: Not a constant expression.
                child: const Text(currency.flag ?? currency.symbol,
                                  ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:161:50: Error: Not a constant expression.
                child: const Text(currency.flag ?? currency.symbol,
                                                   ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:162:57: Error: Not a constant expression.
                    style: TextStyle(fontSize: 20, color: cs.onSurface)),
                                                          ^^
  lib/screens/management/currency_selection_page.dart:179:37: Error: Not a constant expression.
                            fontSize: dense ? 10 : 11,
                                      ^^^^^
  lib/screens/management/currency_selection_page.dart:180:34: Error: Not a constant expression.
                            color: cs.onTertiaryContainer,
                                   ^^
  lib/screens/management/currency_selection_page.dart:183:26: Error: Not a constant expression.
                const Text(currency.code,
                           ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:192:35: Error: Not a constant expression.
                  child: const Text(currency.symbol,
                                    ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:193:48: Error: Not a constant expression.
                      style: TextStyle(fontSize: dense ? 11 : 12)),
                                                 ^^^^^
  lib/screens/management/currency_selection_page.dart:197:32: Error: Not a constant expression.
            subtitle: const Text(currency.nameZh,
                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:199:29: Error: Not a constant expression.
                    fontSize: dense ? 12 : 13, color: cs.onSurfaceVariant)),
                              ^^^^^
  lib/screens/management/currency_selection_page.dart:199:53: Error: Not a constant expression.
                    fontSize: dense ? 12 : 13, color: cs.onSurfaceVariant)),
                                                      ^^
  lib/screens/management/currency_selection_page.dart:229:15: Error: Not a constant expression.
                currency.flag ?? currency.symbol,
                ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:229:32: Error: Not a constant expression.
                currency.flag ?? currency.symbol,
                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:230:53: Error: Not a constant expression.
                style: TextStyle(fontSize: 20, color: cs.onSurface),
                                                      ^^
  lib/screens/management/currency_selection_page.dart:249:31: Error: Not a constant expression.
                      fontSize: dense ? 10 : 11,
                                ^^^^^
  lib/screens/management/currency_selection_page.dart:250:28: Error: Not a constant expression.
                      color: cs.onTertiaryContainer,
                             ^^
  lib/screens/management/currency_selection_page.dart:262:25: Error: Not a constant expression.
                          currency.code,
                          ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:278:43: Error: Not a constant expression.
                          child: const Text(currency.symbol,
                                            ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:279:56: Error: Not a constant expression.
                              style: TextStyle(fontSize: dense ? 11 : 12)),
                                                         ^^^^^
  lib/screens/management/currency_selection_page.dart:283:30: Error: Not a constant expression.
                    const Text(currency.nameZh,
                               ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:285:37: Error: Not a constant expression.
                            fontSize: dense ? 12 : 13,
                                      ^^^^^
  lib/screens/management/currency_selection_page.dart:286:34: Error: Not a constant expression.
                            color: cs.onSurfaceVariant)),
                                   ^^
  lib/screens/management/currency_selection_page.dart:296:46: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                               ^^^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:296:36: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                     ^^^
  lib/screens/management/currency_selection_page.dart:296:40: Error: Method invocation is not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                         ^^^^^
  lib/screens/management/currency_selection_page.dart:296:78: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                                                               ^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:296:90: Error: Method invocation is not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                                                                           ^^^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:296:112: Error: Not a constant expression.
                                '1 ${ref.watch(baseCurrencyProvider).code} = ${displayRate.toStringAsFixed(4)} ${currency.code}',
                                                                                                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:298:45: Error: Not a constant expression.
                                    fontSize: dense ? 11 : 12,
                                              ^^^^^
  lib/screens/management/currency_selection_page.dart:299:42: Error: Not a constant expression.
                                    color: cs.onSurface),
                                           ^^
  lib/screens/management/currency_selection_page.dart:343:74: Error: Not a constant expression.
                            const Icon(Icons.trending_up, size: 16, color: cs.primary),
                                                                           ^^
  lib/screens/management/currency_selection_page.dart:367:44: Error: Not a constant expression.
                                      color: cs.onTertiaryContainer),
                                             ^^
  lib/screens/management/currency_selection_page.dart:399:49: Error: Not a constant expression.
                            const SizedBox(width: dense ? 8 : 12),
                                                  ^^^^^
  lib/screens/management/currency_selection_page.dart:497:41: Error: Not a constant expression.
                                    size: dense ? 14 : 16, color: cs.tertiary),
                                          ^^^^^
  lib/screens/management/currency_selection_page.dart:497:65: Error: Not a constant expression.
                                    size: dense ? 14 : 16, color: cs.tertiary),
                                                                  ^^
  lib/screens/management/currency_selection_page.dart:500:59: Error: Not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                            ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:45: Error: Not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                              ^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:75: Error: Method invocation is not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                            ^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:85: Error: Method invocation is not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                                      ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:500:96: Error: Method invocation is not a constant expression.
                                  '手动汇率有效期: ${_manualExpiry[currency.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                                                 ^^^^^
  lib/screens/management/currency_selection_page.dart:502:47: Error: Not a constant expression.
                                      fontSize: dense ? 11 : 12,
                                                ^^^^^
  lib/screens/management/currency_selection_page.dart:503:44: Error: Not a constant expression.
                                      color: cs.tertiary),
                                             ^^
  lib/screens/management/currency_selection_page.dart:525:11: Error: Not a constant expression.
            widget.isSelectingBaseCurrency ? '选择基础货币' : '管理法定货币',
            ^^^^^^
  lib/screens/management/currency_selection_page.dart:550:32: Error: Not a constant expression.
                icon: const Icon(_compact
                                 ^^^^^^^^
  lib/screens/management/currency_selection_page.dart:615:37: Error: Not a constant expression.
                      color: Theme.of(context).colorScheme.onPrimaryContainer),
                                      ^^^^^^^
  lib/screens/management/currency_selection_page.dart:615:34: Error: Method invocation is not a constant expression.
                      color: Theme.of(context).colorScheme.onPrimaryContainer),
                                   ^^
  lib/screens/management/currency_selection_page.dart:615:46: Error: Not a constant expression.
                      color: Theme.of(context).colorScheme.onPrimaryContainer),
                                               ^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:619:21: Error: Not a constant expression.
                      widget.isSelectingBaseCurrency
                      ^^^^^^
  lib/screens/management/currency_selection_page.dart:625:38: Error: Not a constant expression.
                              Theme.of(context).colorScheme.onPrimaryContainer),
                                       ^^^^^^^
  lib/screens/management/currency_selection_page.dart:625:35: Error: Method invocation is not a constant expression.
                              Theme.of(context).colorScheme.onPrimaryContainer),
                                    ^^
  lib/screens/management/currency_selection_page.dart:625:47: Error: Not a constant expression.
                              Theme.of(context).colorScheme.onPrimaryContainer),
                                                ^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:665:40: Error: Not a constant expression.
                        '已选择 ${ref.watch(selectedCurrenciesProvider).length} 种货币',
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/screens/management/currency_selection_page.dart:665:30: Error: Not a constant expression.
                        '已选择 ${ref.watch(selectedCurrenciesProvider).length} 种货币',
                               ^^^
  lib/screens/management/currency_selection_page.dart:665:34: Error: Method invocation is not a constant expression.
                        '已选择 ${ref.watch(selectedCurrenciesProvider).length} 种货币',
                                   ^^^^^
  lib/screens/management/currency_selection_page.dart:668:43: Error: Not a constant expression.
                            color: Theme.of(context).colorScheme.onSurface),
                                            ^^^^^^^
  lib/screens/management/currency_selection_page.dart:668:40: Error: Method invocation is not a constant expression.
                            color: Theme.of(context).colorScheme.onSurface),
                                         ^^
  lib/screens/management/currency_selection_page.dart:668:52: Error: Not a constant expression.
                            color: Theme.of(context).colorScheme.onSurface),
                                                     ^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:79:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/screens/management/crypto_selection_page.dart:104:19: Error: Not a constant expression.
        cryptoIcons[code] ?? Icons.currency_bitcoin,
                    ^^^^
  lib/screens/management/crypto_selection_page.dart:104:7: Error: Not a constant expression.
        cryptoIcons[code] ?? Icons.currency_bitcoin,
        ^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:106:30: Error: Not a constant expression.
        color: _getCryptoColor(code),
                               ^^^^
  lib/screens/management/crypto_selection_page.dart:106:14: Error: Not a constant expression.
        color: _getCryptoColor(code),
               ^^^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:103:18: Error: Not a constant expression.
      return const Icon(
                   ^^^^
  lib/screens/management/crypto_selection_page.dart:208:31: Error: Not a constant expression.
                color: Theme.of(context).brightness == Brightness.dark
                                ^^^^^^^
  lib/screens/management/crypto_selection_page.dart:208:28: Error: Method invocation is not a constant expression.
                color: Theme.of(context).brightness == Brightness.dark
                             ^^
  lib/screens/management/crypto_selection_page.dart:209:21: Error: Not a constant expression.
                    ? cs.onSurface
                      ^^
  lib/screens/management/crypto_selection_page.dart:210:37: Error: Not a constant expression.
                    : _getCryptoColor(crypto.code),
                                      ^^^^^^
  lib/screens/management/crypto_selection_page.dart:210:21: Error: Not a constant expression.
                    : _getCryptoColor(crypto.code),
                      ^^^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:211:21: Error: Not a constant expression.
                size: _compact ? 20 : 22,
                      ^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:205:26: Error: Not a constant expression.
              child: const Icon(
                           ^^^^
  lib/screens/management/crypto_selection_page.dart:224:25: Error: Not a constant expression.
                          crypto.code,
                          ^^^^^^
  lib/screens/management/crypto_selection_page.dart:230:45: Error: Not a constant expression.
                        const SizedBox(width: _compact ? 6 : 8),
                                              ^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:239:27: Error: Not a constant expression.
                            crypto.symbol,
                            ^^^^^^
  lib/screens/management/crypto_selection_page.dart:241:39: Error: Not a constant expression.
                              fontSize: _compact ? 10 : 11,
                                        ^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:242:52: Error: Not a constant expression.
                              color: _getCryptoColor(crypto.code),
                                                     ^^^^^^
  lib/screens/management/crypto_selection_page.dart:242:36: Error: Not a constant expression.
                              color: _getCryptoColor(crypto.code),
                                     ^^^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:250:21: Error: Not a constant expression.
                      crypto.nameZh,
                      ^^^^^^
  lib/screens/management/crypto_selection_page.dart:252:35: Error: Not a constant expression.
                          fontSize: _compact ? 12 : 13,
                                    ^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:253:32: Error: Not a constant expression.
                          color: cs.onSurfaceVariant),
                                 ^^
  lib/screens/management/crypto_selection_page.dart:265:31: Error: Not a constant expression.
                          .read(currencyProvider.notifier)
                                ^^^^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:264:21: Error: Not a constant expression.
                      ref
                      ^^^
  lib/screens/management/crypto_selection_page.dart:265:26: Error: Method invocation is not a constant expression.
                          .read(currencyProvider.notifier)
                           ^^^^
  lib/screens/management/crypto_selection_page.dart:266:48: Error: Not a constant expression.
                          .formatCurrency(price, baseCurrency.code),
                                                 ^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:266:41: Error: Not a constant expression.
                          .formatCurrency(price, baseCurrency.code),
                                          ^^^^^
  lib/screens/management/crypto_selection_page.dart:266:26: Error: Method invocation is not a constant expression.
                          .formatCurrency(price, baseCurrency.code),
                           ^^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:268:35: Error: Not a constant expression.
                          fontSize: _compact ? 13 : 14,
                                    ^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:270:32: Error: Not a constant expression.
                          color: cs.onSurface),
                                 ^^
  lib/screens/management/crypto_selection_page.dart:311:64: Error: Not a constant expression.
                                size: 16, color: _getCryptoColor(crypto.code)),
                                                                 ^^^^^^
  lib/screens/management/crypto_selection_page.dart:311:48: Error: Not a constant expression.
                                size: 16, color: _getCryptoColor(crypto.code)),
                                                 ^^^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:310:33: Error: Not a constant expression.
                            const Icon(Icons.trending_up,
                                  ^^^^
  lib/screens/management/crypto_selection_page.dart:367:49: Error: Not a constant expression.
                            const SizedBox(width: _compact ? 8 : 12),
                                                  ^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:385:45: Error: Not a constant expression.
                                  icon: const Icon(Icons.refresh, size: 18),
                                              ^^^^
  lib/screens/management/crypto_selection_page.dart:441:45: Error: Not a constant expression.
                                  icon: const Icon(Icons.save, size: 18),
                                              ^^^^
  lib/screens/management/crypto_selection_page.dart:455:53: Error: Not a constant expression.
                            '手动价格有效期: ${_manualExpiry[crypto.code]!.toLocal().toString().split(" ").first} 00:00',
                                                      ^^^^^^
  lib/screens/management/crypto_selection_page.dart:455:39: Error: Not a constant expression.
                            '手动价格有效期: ${_manualExpiry[crypto.code]!.toLocal().toString().split(" ").first} 00:00',
                                        ^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:455:67: Error: Method invocation is not a constant expression.
                            '手动价格有效期: ${_manualExpiry[crypto.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                    ^^^^^^^
  lib/screens/management/crypto_selection_page.dart:455:77: Error: Method invocation is not a constant expression.
                            '手动价格有效期: ${_manualExpiry[crypto.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                              ^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:455:88: Error: Method invocation is not a constant expression.
                            '手动价格有效期: ${_manualExpiry[crypto.code]!.toLocal().toString().split(" ").first} 00:00',
                                                                                         ^^^^^
  lib/screens/management/crypto_selection_page.dart:489:11: Error: Not a constant expression.
            period,
            ^^^^^^
  lib/screens/management/crypto_selection_page.dart:500:20: Error: Not a constant expression.
              color: color,
                     ^^^^^
  lib/screens/management/crypto_selection_page.dart:497:11: Error: Not a constant expression.
            change,
            ^^^^^^
  lib/screens/management/crypto_selection_page.dart:535:25: Error: Not a constant expression.
                  : const Icon(Icons.refresh),
                          ^^^^
  lib/screens/management/crypto_selection_page.dart:555:35: Error: Not a constant expression.
                  prefixIcon: const Icon(Icons.search),
                                    ^^^^
  lib/screens/management/crypto_selection_page.dart:558:37: Error: Not a constant expression.
                          icon: const Icon(Icons.clear),
                                      ^^^^
  lib/screens/management/crypto_selection_page.dart:584:23: Error: Not a constant expression.
                  const Icon(Icons.info_outline, size: 14, color: Colors.purple[700]),
                        ^^^^
  lib/screens/management/crypto_selection_page.dart:632:25: Error: Not a constant expression.
                    '已选择 $selectedCount 种加密货币',
                          ^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:639:31: Error: Not a constant expression.
                    icon: const Icon(Icons.check),
                                ^^^^
  lib/screens/management/crypto_selection_page.dart:654:11: Error: Not a constant expression.
            label,
            ^^^^^
  lib/screens/management/crypto_selection_page.dart:665:20: Error: Not a constant expression.
              color: color,
                     ^^^^^
  lib/screens/management/crypto_selection_page.dart:662:11: Error: Not a constant expression.
            value,
            ^^^^^
  lib/widgets/data_source_info.dart:23:57: Error: Not a constant expression.
                    const Icon(Icons.info_outline, color: cs.primary),
                                                          ^^
  lib/widgets/data_source_info.dart:39:55: Error: Not a constant expression.
                  style: TextStyle(fontSize: 13, color: cs.onSurfaceVariant),
                                                        ^^
  lib/widgets/data_source_info.dart:44:55: Error: Not a constant expression.
                  style: TextStyle(fontSize: 13, color: cs.onSurfaceVariant),
                                                        ^^
  lib/widgets/data_source_info.dart:49:55: Error: Not a constant expression.
                  style: TextStyle(fontSize: 13, color: cs.onSurfaceVariant),
                                                        ^^
  lib/widgets/data_source_info.dart:54:55: Error: Not a constant expression.
                  style: TextStyle(fontSize: 13, color: cs.onSurfaceVariant),
                                                        ^^
  lib/widgets/tag_create_dialog.dart:130:35: Error: Not a constant expression.
                        icon: const Icon(Icons.close),
                                    ^^^^
  lib/widgets/tag_create_dialog.dart:177:37: Error: Not a constant expression.
                              ? const Icon(Icons.check, color: Colors.white)
                                      ^^^^
  lib/widgets/tag_create_dialog.dart:211:42: Error: Not a constant expression.
                              child: const Icon(Icons.cancel, color: Colors.grey),
                                           ^^^^
  lib/widgets/tag_create_dialog.dart:233:49: Error: Not a constant expression.
                                child: const Icon(entry.value, color: Colors.grey[700]),
                                                  ^^^^^
  lib/widgets/tag_create_dialog.dart:233:44: Error: Not a constant expression.
                                child: const Icon(entry.value, color: Colors.grey[700]),
                                             ^^^^
  lib/widgets/tag_create_dialog.dart:274:45: Error: Not a constant expression.
                              _availableIcons[_selectedIcon!],
                                              ^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:274:29: Error: Not a constant expression.
                              _availableIcons[_selectedIcon!],
                              ^^^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:276:53: Error: Not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                                      ^^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:277:34: Error: Method invocation is not a constant expression.
                                  .replaceFirst('#', '0xff'))),
                                   ^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:276:46: Error: Method invocation is not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                               ^^^^^
  lib/widgets/tag_create_dialog.dart:273:33: Error: Not a constant expression.
                            const Icon(
                                  ^^^^
  lib/widgets/tag_create_dialog.dart:282:27: Error: Not a constant expression.
                            _nameController.text,
                            ^^^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:284:53: Error: Not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                                      ^^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:285:34: Error: Method invocation is not a constant expression.
                                  .replaceFirst('#', '0xff'))),
                                   ^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:284:46: Error: Method invocation is not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                               ^^^^^
  lib/widgets/tag_create_dialog.dart:346:33: Error: Not a constant expression.
                      icon: const Icon(Icons.clear, size: 18),
                                  ^^^^
  lib/widgets/tag_create_dialog.dart:358:21: Error: Not a constant expression.
                      _showGroupSuggestions
                      ^^^^^^^^^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:357:31: Error: Not a constant expression.
                    icon: const Icon(
                                ^^^^
  lib/widgets/tag_create_dialog.dart:373:33: Error: Not a constant expression.
                      icon: const Icon(Icons.add, size: 18, color: Colors.green),
                                  ^^^^
  lib/widgets/tag_create_dialog.dart:440:28: Error: Expected ']' before this.
                            ),
                             ^
  lib/widgets/tag_create_dialog.dart:471:23: Error: Expected ']' before this.
                        : []
                        ^
  lib/widgets/tag_create_dialog.dart:429:25: Error: The operator '[]' isn't defined for the type 'bool'.
  Try correcting the operator to an existing operator, or defining a '[]' operator.
                        ? [
                          ^
  lib/widgets/tag_create_dialog.dart:600:41: Error: Not a constant expression.
              content: const Text('⚠️ 分组"$groupName"已存在！请使用其他名称'),
                                          ^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:637:45: Error: Not a constant expression.
            SnackBar(content: const Text('分组"$groupName"创建成功')),
                                              ^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:643:50: Error: Not a constant expression.
            SnackBar(content: const Text('创建分组失败: $error')),
                                                   ^^^^^
  lib/widgets/tag_create_dialog.dart:722:45: Error: Not a constant expression.
            SnackBar(content: const Text('标签"$name"创建成功')),
                                              ^^^^
  lib/widgets/tag_create_dialog.dart:728:48: Error: Not a constant expression.
            SnackBar(content: const Text('创建失败: $error')),
                                                 ^^^^^
  lib/widgets/tag_edit_dialog.dart:129:35: Error: Not a constant expression.
                        icon: const Icon(Icons.close),
                                    ^^^^
  lib/widgets/tag_edit_dialog.dart:176:37: Error: Not a constant expression.
                              ? const Icon(Icons.check, color: Colors.white)
                                      ^^^^
  lib/widgets/tag_edit_dialog.dart:210:42: Error: Not a constant expression.
                              child: const Icon(Icons.cancel, color: Colors.grey),
                                           ^^^^
  lib/widgets/tag_edit_dialog.dart:232:49: Error: Not a constant expression.
                                child: const Icon(entry.value, color: Colors.grey[700]),
                                                  ^^^^^
  lib/widgets/tag_edit_dialog.dart:232:44: Error: Not a constant expression.
                                child: const Icon(entry.value, color: Colors.grey[700]),
                                             ^^^^
  lib/widgets/tag_edit_dialog.dart:273:45: Error: Not a constant expression.
                              _availableIcons[_selectedIcon!],
                                              ^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:273:29: Error: Not a constant expression.
                              _availableIcons[_selectedIcon!],
                              ^^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:275:53: Error: Not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                                      ^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:276:34: Error: Method invocation is not a constant expression.
                                  .replaceFirst('#', '0xff'))),
                                   ^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:275:46: Error: Method invocation is not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                               ^^^^^
  lib/widgets/tag_edit_dialog.dart:272:33: Error: Not a constant expression.
                            const Icon(
                                  ^^^^
  lib/widgets/tag_edit_dialog.dart:281:27: Error: Not a constant expression.
                            _nameController.text,
                            ^^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:283:53: Error: Not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                                      ^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:284:34: Error: Method invocation is not a constant expression.
                                  .replaceFirst('#', '0xff'))),
                                   ^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:283:46: Error: Method invocation is not a constant expression.
                              color: Color(int.parse((_selectedColor ?? '#6471eb')
                                               ^^^^^
  lib/widgets/tag_edit_dialog.dart:343:33: Error: Not a constant expression.
                      icon: const Icon(Icons.clear, size: 18),
                                  ^^^^
  lib/widgets/tag_edit_dialog.dart:355:21: Error: Not a constant expression.
                      _showGroupSuggestions
                      ^^^^^^^^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:354:31: Error: Not a constant expression.
                    icon: const Icon(
                                ^^^^
  lib/widgets/tag_edit_dialog.dart:421:38: Error: Expected ',' before this.
                        _getGroupconst Icon(group.icon),
                                       ^^^^
  lib/widgets/tag_edit_dialog.dart:421:43: Error: Not a constant expression.
                        _getGroupconst Icon(group.icon),
                                            ^^^^^
  lib/widgets/tag_edit_dialog.dart:423:47: Error: Not a constant expression.
                        color: Color(int.parse((group.color ?? '#6471eb')
                                                ^^^^^
  lib/widgets/tag_edit_dialog.dart:424:28: Error: Method invocation is not a constant expression.
                            .replaceFirst('#', '0xff'))),
                             ^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:423:40: Error: Method invocation is not a constant expression.
                        color: Color(int.parse((group.color ?? '#6471eb')
                                         ^^^^^
  lib/widgets/tag_edit_dialog.dart:421:23: Error: Not a constant expression.
                        _getGroupconst Icon(group.icon),
                        ^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:421:38: Error: Not a constant expression.
                        _getGroupconst Icon(group.icon),
                                       ^^^^
  lib/widgets/tag_edit_dialog.dart:420:34: Error: Not a constant expression.
                      child: const Icon(
                                   ^^^^
  lib/widgets/tag_edit_dialog.dart:428:21: Error: Not a constant expression.
                      group.name,
                      ^^^^^
  lib/widgets/tag_edit_dialog.dart:432:42: Error: Not a constant expression.
                      '${_getGroupTagCount(group.id!)} 个标签',
                                           ^^^^^
  lib/widgets/tag_edit_dialog.dart:432:24: Error: Not a constant expression.
                      '${_getGroupTagCount(group.id!)} 个标签',
                         ^^^^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:572:45: Error: Not a constant expression.
            SnackBar(content: const Text('标签"$name"更新成功')),
                                              ^^^^
  lib/widgets/tag_edit_dialog.dart:578:48: Error: Not a constant expression.
            SnackBar(content: const Text('更新失败: $error')),
                                                 ^^^^^
  lib/widgets/tag_deletion_dialog.dart:24:33: Error: Not a constant expression.
            const Text('确定要删除标签"${tag.name}"吗？'),
                                  ^^^
  lib/widgets/tag_deletion_dialog.dart:28:26: Error: Not a constant expression.
                '该标签已被使用 ${tag.usageCount} 次。',
                           ^^^
  lib/widgets/tag_deletion_dialog.dart:48:52: Error: Not a constant expression.
                  SnackBar(content: const Text('标签"${tag.name}"已删除')),
                                                     ^^^
  lib/widgets/tag_group_dialog.dart:67:15: Error: Not a constant expression.
                widget.group != null ? '编辑分组' : '创建分组',
                ^^^^^^
  lib/widgets/tag_group_dialog.dart:130:36: Error: Not a constant expression.
                        : const Text(widget.group != null ? '保存' : '创建'),
                                     ^^^^^^
  lib/widgets/tag_group_dialog.dart:202:28: Error: Not a constant expression.
                  const Text(widget.group != null ? '分组"$name"更新成功' : '分组"$name"创建成功'),
                             ^^^^^^
  lib/widgets/tag_group_dialog.dart:202:56: Error: Not a constant expression.
                  const Text(widget.group != null ? '分组"$name"更新成功' : '分组"$name"创建成功'),
                                                         ^^^^
  lib/widgets/tag_group_dialog.dart:202:74: Error: Not a constant expression.
                  const Text(widget.group != null ? '分组"$name"更新成功' : '分组"$name"创建成功'),
                                                                           ^^^^
  lib/widgets/tag_group_dialog.dart:209:48: Error: Not a constant expression.
            SnackBar(content: const Text('操作失败: $error')),
                                                 ^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:49:22: Error: Not a constant expression.
            '您确定要删除 "${widget.family.name}" 吗？\n'
                       ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:49:29: Error: Not a constant expression.
            '您确定要删除 "${widget.family.name}" 吗？\n'
                              ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:52:16: Error: Not a constant expression.
            '• ${widget.statistics.memberCount} 个成员\n'
                 ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:52:23: Error: Not a constant expression.
            '• ${widget.statistics.memberCount} 个成员\n'
                        ^^^^^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:53:16: Error: Not a constant expression.
            '• ${widget.statistics.accountCount} 个账户\n'
                 ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:53:23: Error: Not a constant expression.
            '• ${widget.statistics.accountCount} 个账户\n'
                        ^^^^^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:54:16: Error: Not a constant expression.
            '• ${widget.statistics.transactionCount} 条交易记录',
                 ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:54:23: Error: Not a constant expression.
            '• ${widget.statistics.transactionCount} 条交易记录',
                        ^^^^^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:101:41: Error: Not a constant expression.
              content: const Text('已删除 "${widget.family.name}"'),
                                          ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:101:48: Error: Not a constant expression.
              content: const Text('已删除 "${widget.family.name}"'),
                                                 ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:129:20: Error: Not a constant expression.
              color: theme.colorScheme.error,
                     ^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:129:26: Error: Not a constant expression.
              color: theme.colorScheme.error,
                           ^^^^^^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:141:28: Error: Not a constant expression.
                '此操作将永久删除 "${widget.family.name}" 及其所有数据。',
                             ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:141:35: Error: Not a constant expression.
                '此操作将永久删除 "${widget.family.name}" 及其所有数据。',
                                    ^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:142:22: Error: Not a constant expression.
                style: theme.textTheme.bodyMedium,
                       ^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:142:28: Error: Not a constant expression.
                style: theme.textTheme.bodyMedium,
                             ^^^^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:158:28: Error: Not a constant expression.
                      style: theme.textTheme.titleSmall,
                             ^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:158:34: Error: Not a constant expression.
                      style: theme.textTheme.titleSmall,
                                   ^^^^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:177:22: Error: Not a constant expression.
                style: theme.textTheme.bodyMedium,
                       ^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:177:28: Error: Not a constant expression.
                style: theme.textTheme.bodyMedium,
                             ^^^^^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:227:24: Error: Not a constant expression.
            const Text('$label: '),
                         ^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:229:13: Error: Not a constant expression.
              count.toString(),
              ^^^^^
  lib/widgets/dialogs/delete_family_dialog.dart:229:19: Error: Method invocation is not a constant expression.
              count.toString(),
                    ^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:88:41: Error: Not a constant expression.
          content: const Text('确定要取消发送给 ${invitation.email} 的邀请吗？'),
                                          ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:143:35: Error: Not a constant expression.
                  label: const Text(_pendingInvitations.length.toString()),
                                    ^^^^^^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:143:62: Error: Method invocation is not a constant expression.
                  label: const Text(_pendingInvitations.length.toString()),
                                                               ^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:144:30: Error: Not a constant expression.
                  child: const Icon(Icons.pending),
                               ^^^^
  lib/screens/invitations/invitation_management_screen.dart:150:35: Error: Not a constant expression.
                  label: const Text(_acceptedInvitations.length.toString()),
                                    ^^^^^^^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:150:63: Error: Method invocation is not a constant expression.
                  label: const Text(_acceptedInvitations.length.toString()),
                                                                ^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:151:30: Error: Not a constant expression.
                  child: const Icon(Icons.check_circle),
                               ^^^^
  lib/screens/invitations/invitation_management_screen.dart:157:35: Error: Not a constant expression.
                  label: const Text(_expiredInvitations.length.toString()),
                                    ^^^^^^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:157:62: Error: Method invocation is not a constant expression.
                  label: const Text(_expiredInvitations.length.toString()),
                                                               ^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:158:30: Error: Not a constant expression.
                  child: const Icon(Icons.schedule),
                               ^^^^
  lib/screens/invitations/invitation_management_screen.dart:165:25: Error: Not a constant expression.
              icon: const Icon(Icons.refresh),
                          ^^^^
  lib/screens/invitations/invitation_management_screen.dart:249:21: Error: Not a constant expression.
          icon: const Icon(Icons.add),
                      ^^^^
  lib/screens/invitations/invitation_management_screen.dart:263:18: Error: Not a constant expression.
            color: theme.colorScheme.onPrimaryContainer,
                   ^^^^^
  lib/screens/invitations/invitation_management_screen.dart:263:24: Error: Not a constant expression.
            color: theme.colorScheme.onPrimaryContainer,
                         ^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:262:11: Error: Not a constant expression.
            icon,
            ^^^^
  lib/screens/invitations/invitation_management_screen.dart:261:15: Error: Not a constant expression.
          const Icon(
                ^^^^
  lib/screens/invitations/invitation_management_screen.dart:272:20: Error: Not a constant expression.
              color: theme.colorScheme.onPrimaryContainer,
                     ^^^^^
  lib/screens/invitations/invitation_management_screen.dart:272:26: Error: Not a constant expression.
              color: theme.colorScheme.onPrimaryContainer,
                           ^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:268:11: Error: Not a constant expression.
            value,
            ^^^^^
  lib/screens/invitations/invitation_management_screen.dart:279:20: Error: Not a constant expression.
              color: theme.colorScheme.onPrimaryContainer.withValues(alpha: 0.8),
                     ^^^^^
  lib/screens/invitations/invitation_management_screen.dart:279:26: Error: Not a constant expression.
              color: theme.colorScheme.onPrimaryContainer.withValues(alpha: 0.8),
                           ^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:279:57: Error: Method invocation is not a constant expression.
              color: theme.colorScheme.onPrimaryContainer.withValues(alpha: 0.8),
                                                          ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:276:11: Error: Not a constant expression.
            label,
            ^^^^^
  lib/screens/invitations/invitation_management_screen.dart:298:19: Error: Not a constant expression.
              const Icon(
                    ^^^^
  lib/screens/invitations/invitation_management_screen.dart:305:15: Error: Not a constant expression.
                emptyMessage,
                ^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:329:33: Error: Expected ',' before this.
                  _getStatusconst Icon(invitation.status),
                                  ^^^^
  lib/screens/invitations/invitation_management_screen.dart:329:38: Error: Not a constant expression.
                  _getStatusconst Icon(invitation.status),
                                       ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:330:40: Error: Not a constant expression.
                  color: _getStatusColor(invitation.status),
                                         ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:330:24: Error: Not a constant expression.
                  color: _getStatusColor(invitation.status),
                         ^^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:329:17: Error: Not a constant expression.
                  _getStatusconst Icon(invitation.status),
                  ^^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:329:33: Error: Not a constant expression.
                  _getStatusconst Icon(invitation.status),
                                  ^^^^
  lib/screens/invitations/invitation_management_screen.dart:328:28: Error: Not a constant expression.
                child: const Icon(
                             ^^^^
  lib/screens/invitations/invitation_management_screen.dart:333:31: Error: Not a constant expression.
              title: const Text(invitation.email),
                                ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:338:42: Error: Not a constant expression.
                    '角色: ${_getRoleDisplay(invitation.role)}',
                                           ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:338:26: Error: Not a constant expression.
                    '角色: ${_getRoleDisplay(invitation.role)}',
                           ^^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:343:46: Error: Not a constant expression.
                      '接受时间: ${_formatDateTime(invitation.acceptedAt!)}',
                                               ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:343:30: Error: Not a constant expression.
                      '接受时间: ${_formatDateTime(invitation.acceptedAt!)}',
                               ^^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:348:21: Error: Not a constant expression.
                      invitation.remainingTimeDescription,
                      ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:352:27: Error: Not a constant expression.
                            invitation.hoursRemaining < 24 ? Colors.orange : null,
                            ^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:362:33: Error: Not a constant expression.
                      icon: const Icon(Icons.send),
                                  ^^^^
  lib/screens/invitations/invitation_management_screen.dart:367:33: Error: Not a constant expression.
                      icon: const Icon(Icons.cancel),
                                  ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:145:32: Error: Not a constant expression.
                          style: theme.textTheme.titleLarge?.copyWith(
                                 ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:145:38: Error: Not a constant expression.
                          style: theme.textTheme.titleLarge?.copyWith(
                                       ^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:145:60: Error: Method invocation is not a constant expression.
                          style: theme.textTheme.titleLarge?.copyWith(
                                                             ^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:150:36: Error: Not a constant expression.
                          '邀请新成员加入 ${widget.familyName}',
                                     ^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:151:32: Error: Not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                 ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:151:38: Error: Not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                       ^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:152:34: Error: Not a constant expression.
                            color: theme.colorScheme.onSurfaceVariant,
                                   ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:152:40: Error: Not a constant expression.
                            color: theme.colorScheme.onSurfaceVariant,
                                         ^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:151:59: Error: Method invocation is not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                                            ^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:159:31: Error: Not a constant expression.
                    icon: const Icon(Icons.close),
                                ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:177:37: Error: Not a constant expression.
                    prefixIcon: const Icon(Icons.email_outlined),
                                      ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:192:37: Error: Not a constant expression.
                    prefixIcon: const Icon(Icons.shield_outlined),
                                      ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:203:41: Error: Expected ',' before this.
                            _getRoleconst Icon(role),
                                          ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:203:46: Error: Not a constant expression.
                            _getRoleconst Icon(role),
                                               ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:205:48: Error: Not a constant expression.
                            color: _getRoleColor(role),
                                                 ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:205:34: Error: Not a constant expression.
                            color: _getRoleColor(role),
                                   ^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:203:27: Error: Not a constant expression.
                            _getRoleconst Icon(role),
                            ^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:203:41: Error: Not a constant expression.
                            _getRoleconst Icon(role),
                                          ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:202:31: Error: Not a constant expression.
                          const Icon(
                                ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:208:52: Error: Not a constant expression.
                          const Text(_getRoleDisplay(role)),
                                                     ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:208:36: Error: Not a constant expression.
                          const Text(_getRoleDisplay(role)),
                                     ^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:232:23: Error: Not a constant expression.
                        _showAdvancedOptions
                        ^^^^^^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:231:27: Error: Not a constant expression.
                      const Icon(
                            ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:240:32: Error: Not a constant expression.
                          color: theme.colorScheme.primary,
                                 ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:240:38: Error: Not a constant expression.
                          color: theme.colorScheme.primary,
                                       ^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:257:30: Error: Not a constant expression.
                        style: theme.textTheme.labelLarge,
                               ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:257:36: Error: Not a constant expression.
                        style: theme.textTheme.labelLarge,
                                     ^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:282:39: Error: Not a constant expression.
                      prefixIcon: const Icon(Icons.message_outlined),
                                        ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:297:30: Error: Not a constant expression.
                    onPressed: _isLoading ? null : _generateInvitation,
                               ^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:297:50: Error: Not a constant expression.
                    onPressed: _isLoading ? null : _generateInvitation,
                                                   ^^^^^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:298:25: Error: Not a constant expression.
                    icon: _isLoading
                          ^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:307:31: Error: Not a constant expression.
                        : const Icon(Icons.send),
                                ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:308:37: Error: Not a constant expression.
                    label: const Text(_isLoading ? '生成中...' : '生成邀请'),
                                      ^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:296:37: Error: Cannot invoke a non-'const' factory where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                  child: FilledButton.icon(
                                      ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:343:24: Error: Not a constant expression.
                  color: isSelected
                         ^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:344:23: Error: Not a constant expression.
                      ? theme.colorScheme.onPrimaryContainer
                        ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:344:29: Error: Not a constant expression.
                      ? theme.colorScheme.onPrimaryContainer
                              ^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:345:23: Error: Not a constant expression.
                      : theme.colorScheme.onSurfaceVariant,
                        ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:345:29: Error: Not a constant expression.
                      : theme.colorScheme.onSurfaceVariant,
                              ^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:346:29: Error: Not a constant expression.
                  fontWeight: isSelected ? FontWeight.bold : FontWeight.normal,
                              ^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:341:15: Error: Not a constant expression.
                label,
                ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:370:26: Error: Not a constant expression.
              child: const Icon(
                           ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:392:25: Error: Not a constant expression.
                    const Icon(Icons.email_outlined, size: 20),
                          ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:396:23: Error: Not a constant expression.
                        _generatedInvitation!.email,
                        ^^^^^^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:397:30: Error: Not a constant expression.
                        style: theme.textTheme.bodyLarge,
                               ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:397:36: Error: Not a constant expression.
                        style: theme.textTheme.bodyLarge,
                                     ^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:405:25: Error: Not a constant expression.
                    const Icon(Icons.shield_outlined, size: 20),
                          ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:408:44: Error: Not a constant expression.
                      '角色: ${_getRoleDisplay(_generatedInvitation!.role)}',
                                             ^^^^^^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:408:28: Error: Not a constant expression.
                      '角色: ${_getRoleDisplay(_generatedInvitation!.role)}',
                             ^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:409:28: Error: Not a constant expression.
                      style: theme.textTheme.bodyMedium,
                             ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:409:34: Error: Not a constant expression.
                      style: theme.textTheme.bodyMedium,
                                   ^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:416:25: Error: Not a constant expression.
                    const Icon(Icons.access_time, size: 20),
                          ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:419:29: Error: Not a constant expression.
                      '有效期: ${_generatedInvitation!.remainingTimeDescription}',
                              ^^^^^^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:420:28: Error: Not a constant expression.
                      style: theme.textTheme.bodyMedium,
                             ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:420:34: Error: Not a constant expression.
                      style: theme.textTheme.bodyMedium,
                                   ^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:441:19: Error: Not a constant expression.
                    _inviteLink!,
                    ^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:442:26: Error: Not a constant expression.
                    style: theme.textTheme.bodySmall,
                           ^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:442:32: Error: Not a constant expression.
                    style: theme.textTheme.bodySmall,
                                 ^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:447:29: Error: Not a constant expression.
                  icon: const Icon(Icons.copy),
                              ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:470:29: Error: Not a constant expression.
                  icon: const Icon(Icons.add),
                              ^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:478:29: Error: Not a constant expression.
                  icon: const Icon(Icons.share),
                              ^^^^
  lib/screens/auth/wechat_qr_screen.dart:137:27: Error: Not a constant expression.
          title: const Text(widget.isLogin ? '微信登录' : '微信注册'),
                            ^^^^^^
  lib/screens/auth/wechat_qr_screen.dart:320:17: Error: Not a constant expression.
                  _statusText,
                  ^^^^^^^^^^^
  lib/screens/auth/wechat_qr_screen.dart:333:19: Error: Not a constant expression.
                    widget.isLogin ? '使用微信扫描二维码即可快速登录' : '扫码后需要设置账户信息完成注册',
                    ^^^^^^
  lib/ui/components/cards/transaction_card.dart:114:35: Error: Expected ',' before this.
                _buildCategoryconst Icon(theme),
                                    ^^^^
  lib/ui/components/cards/transaction_card.dart:128:36: Error: Not a constant expression.
                              style: theme.textTheme.titleMedium?.copyWith(
                                     ^^^^^
  lib/ui/components/cards/transaction_card.dart:128:42: Error: Not a constant expression.
                              style: theme.textTheme.titleMedium?.copyWith(
                                           ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:128:65: Error: Method invocation is not a constant expression.
                              style: theme.textTheme.titleMedium?.copyWith(
                                                                  ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:127:29: Error: Not a constant expression.
                              cardTitle,
                              ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:136:27: Error: Cannot invoke a non-'const' constructor where a const expression is expected.
  Try using a constructor or factory that is 'const'.
                            DateFormat('MM/dd HH:mm').format(cardDate),
                            ^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:136:60: Error: Not a constant expression.
                            DateFormat('MM/dd HH:mm').format(cardDate),
                                                             ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:136:53: Error: Method invocation is not a constant expression.
                            DateFormat('MM/dd HH:mm').format(cardDate),
                                                      ^^^^^^
  lib/ui/components/cards/transaction_card.dart:137:34: Error: Not a constant expression.
                            style: theme.textTheme.bodySmall?.copyWith(
                                   ^^^^^
  lib/ui/components/cards/transaction_card.dart:137:40: Error: Not a constant expression.
                            style: theme.textTheme.bodySmall?.copyWith(
                                         ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:138:36: Error: Not a constant expression.
                              color: theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                     ^^^^^
  lib/ui/components/cards/transaction_card.dart:138:42: Error: Not a constant expression.
                              color: theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                           ^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:138:64: Error: Method invocation is not a constant expression.
                              color: theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                                                 ^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:137:61: Error: Method invocation is not a constant expression.
                            style: theme.textTheme.bodySmall?.copyWith(
                                                              ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:164:36: Error: Not a constant expression.
                              style: theme.textTheme.bodySmall?.copyWith(
                                     ^^^^^
  lib/ui/components/cards/transaction_card.dart:164:42: Error: Not a constant expression.
                              style: theme.textTheme.bodySmall?.copyWith(
                                           ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:165:38: Error: Not a constant expression.
                                color: transaction?.type.color ??
                                       ^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:165:51: Error: Not a constant expression.
                                color: transaction?.type.color ??
                                                    ^^^^
  lib/ui/components/cards/transaction_card.dart:166:35: Error: Not a constant expression.
                                    categoryColor ??
                                    ^^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:167:35: Error: Not a constant expression.
                                    theme.primaryColor,
                                    ^^^^^
  lib/ui/components/cards/transaction_card.dart:164:63: Error: Method invocation is not a constant expression.
                              style: theme.textTheme.bodySmall?.copyWith(
                                                                ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:163:29: Error: Not a constant expression.
                              cardCategory,
                              ^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:176:33: Error: Not a constant expression.
                              '• $cardPayee',
                                  ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:177:36: Error: Not a constant expression.
                              style: theme.textTheme.bodySmall?.copyWith(
                                     ^^^^^
  lib/ui/components/cards/transaction_card.dart:177:42: Error: Not a constant expression.
                              style: theme.textTheme.bodySmall?.copyWith(
                                           ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:179:35: Error: Not a constant expression.
                                    theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                    ^^^^^
  lib/ui/components/cards/transaction_card.dart:179:41: Error: Not a constant expression.
                                    theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                          ^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:179:63: Error: Method invocation is not a constant expression.
                                    theme.colorScheme.onSurface.withValues(alpha: 0.6),
                                                                ^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:177:63: Error: Method invocation is not a constant expression.
                              style: theme.textTheme.bodySmall?.copyWith(
                                                                ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:194:32: Error: Not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                 ^^^^^
  lib/ui/components/cards/transaction_card.dart:194:38: Error: Not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                       ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:195:34: Error: Not a constant expression.
                            color: theme.colorScheme.onSurface.withValues(alpha: 0.7),
                                   ^^^^^
  lib/ui/components/cards/transaction_card.dart:195:40: Error: Not a constant expression.
                            color: theme.colorScheme.onSurface.withValues(alpha: 0.7),
                                         ^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:195:62: Error: Method invocation is not a constant expression.
                            color: theme.colorScheme.onSurface.withValues(alpha: 0.7),
                                                               ^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:194:59: Error: Method invocation is not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                                            ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:193:25: Error: Not a constant expression.
                          cardDescription,
                          ^^^^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:221:38: Error: Not a constant expression.
                                style: theme.textTheme.bodySmall?.copyWith(
                                       ^^^^^
  lib/ui/components/cards/transaction_card.dart:221:44: Error: Not a constant expression.
                                style: theme.textTheme.bodySmall?.copyWith(
                                             ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:222:40: Error: Not a constant expression.
                                  color: theme.colorScheme.secondary,
                                         ^^^^^
  lib/ui/components/cards/transaction_card.dart:222:46: Error: Not a constant expression.
                                  color: theme.colorScheme.secondary,
                                               ^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:221:65: Error: Method invocation is not a constant expression.
                                style: theme.textTheme.bodySmall?.copyWith(
                                                                  ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:220:31: Error: Not a constant expression.
                                tag,
                                ^^^
  lib/ui/components/cards/transaction_card.dart:241:24: Error: Not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                         ^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:241:76: Error: Not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                                                                             ^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:241:87: Error: Method invocation is not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                                                                                        ^^^
  lib/ui/components/cards/transaction_card.dart:241:103: Error: Not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                                                                                                        ^^^^^^^^^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:241:94: Error: Not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                                                                                               ^^^
  lib/ui/components/cards/transaction_card.dart:241:98: Error: Method invocation is not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                                                                                                   ^^^^
  lib/ui/components/cards/transaction_card.dart:241:51: Error: Not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                                                    ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:241:61: Error: Method invocation is not a constant expression.
                      '${cardIsIncome ? '+' : '-'}${formatter.formatCurrency(cardAmount.abs(), ref.read(baseCurrencyProvider).code)}',
                                                              ^^^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:242:28: Error: Not a constant expression.
                      style: theme.textTheme.titleMedium?.copyWith(
                             ^^^^^
  lib/ui/components/cards/transaction_card.dart:242:34: Error: Not a constant expression.
                      style: theme.textTheme.titleMedium?.copyWith(
                                   ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:244:30: Error: Not a constant expression.
                        color: cardIsIncome
                               ^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:242:57: Error: Method invocation is not a constant expression.
                      style: theme.textTheme.titleMedium?.copyWith(
                                                          ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:262:32: Error: Not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                 ^^^^^
  lib/ui/components/cards/transaction_card.dart:262:38: Error: Not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                       ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:263:34: Error: Not a constant expression.
                            color: theme.primaryColor,
                                   ^^^^^
  lib/ui/components/cards/transaction_card.dart:262:59: Error: Method invocation is not a constant expression.
                          style: theme.textTheme.bodySmall?.copyWith(
                                                            ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:293:16: Error: Not a constant expression.
          color: iconColor,
                 ^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:292:9: Error: Not a constant expression.
          iconData,
          ^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:291:20: Error: Not a constant expression.
        child: const Icon(
                     ^^^^
  lib/widgets/source_badge.dart:30:21: Error: Not a constant expression.
            fontSize: fontSize,
                      ^^^^^^^^
  lib/widgets/source_badge.dart:31:18: Error: Not a constant expression.
            color: color,
                   ^^^^^
  lib/widgets/source_badge.dart:28:9: Error: Not a constant expression.
          label,
          ^^^^^
  lib/utils/snackbar_utils.dart:8:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/utils/snackbar_utils.dart:18:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/utils/snackbar_utils.dart:28:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/utils/snackbar_utils.dart:37:29: Error: Not a constant expression.
          content: const Text(message),
                              ^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:102:54: Error: Not a constant expression.
                content: const Text('账户创建成功，但微信绑定失败: ${bindResult.message}'),
                                                       ^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:116:33: Error: Not a constant expression.
              content: const Text(result.message ?? '注册失败'),
                                  ^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:124:44: Error: Not a constant expression.
            content: const Text('注册过程中发生错误: $e'),
                                             ^
  lib/screens/auth/wechat_register_form_screen.dart:182:37: Error: Not a constant expression.
                                      widget.weChatUserInfo.nickname,
                                      ^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:182:44: Error: Not a constant expression.
                                      widget.weChatUserInfo.nickname,
                                             ^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:191:36: Error: Not a constant expression.
                                  '${widget.weChatUserInfo.country} ${widget.weChatUserInfo.province} ${widget.weChatUserInfo.city}',
                                     ^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:191:43: Error: Not a constant expression.
                                  '${widget.weChatUserInfo.country} ${widget.weChatUserInfo.province} ${widget.weChatUserInfo.city}',
                                            ^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:191:69: Error: Not a constant expression.
                                  '${widget.weChatUserInfo.country} ${widget.weChatUserInfo.province} ${widget.weChatUserInfo.city}',
                                                                      ^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:191:76: Error: Not a constant expression.
                                  '${widget.weChatUserInfo.country} ${widget.weChatUserInfo.province} ${widget.weChatUserInfo.city}',
                                                                             ^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:191:103: Error: Not a constant expression.
                                  '${widget.weChatUserInfo.country} ${widget.weChatUserInfo.province} ${widget.weChatUserInfo.city}',
                                                                                                        ^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:191:110: Error: Not a constant expression.
                                  '${widget.weChatUserInfo.country} ${widget.weChatUserInfo.province} ${widget.weChatUserInfo.city}',
                                                                                                               ^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:299:25: Error: Not a constant expression.
                          _isPasswordVisible
                          ^^^^^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:341:25: Error: Not a constant expression.
                          _passwordStrength.description,
                          ^^^^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:344:34: Error: Not a constant expression.
                            color: _passwordStrength.color,
                                   ^^^^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:370:25: Error: Not a constant expression.
                          _isConfirmPasswordVisible
                          ^^^^^^^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:401:32: Error: Not a constant expression.
                      onPressed: _isLoading ? null : _register,
                                 ^^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:401:52: Error: Not a constant expression.
                      onPressed: _isLoading ? null : _register,
                                                     ^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:402:43: Error: Method invocation is not a constant expression.
                      style: ElevatedButton.styleFrom(
                                            ^^^^^^^^^
  lib/screens/auth/wechat_register_form_screen.dart:406:28: Error: Not a constant expression.
                      child: _isLoading
                             ^^^^^^^^^^
  lib/screens/dashboard/dashboard_screen.dart:349:12: Error: Field '_getLedgerconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getLedgerconst Icon(String type) {
             ^^^^^^^^^^^^^^^
  lib/screens/budgets/budgets_screen.dart:10:9: Error: Constructor is marked 'const' so all fields must be final.
    const BudgetsScreen({super.key});
          ^
  lib/screens/budgets/budgets_screen.dart:454:12: Context: Field isn't final, but constructor is 'const'.
    IconData _getCategoryconst Icon(String? category) {
             ^
  lib/screens/budgets/budgets_screen.dart:454:12: Error: Field '_getCategoryconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getCategoryconst Icon(String? category) {
             ^^^^^^^^^^^^^^^^^
  lib/screens/settings/settings_screen.dart:529:9: Error: Constructor is marked 'const' so all fields must be final.
    const LedgerManagementScreen({super.key});
          ^
  lib/screens/settings/settings_screen.dart:615:12: Context: Field isn't final, but constructor is 'const'.
    IconData _getLedgerconst Icon(String type) {
             ^
  lib/screens/settings/settings_screen.dart:615:12: Error: Field '_getLedgerconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getLedgerconst Icon(String type) {
             ^^^^^^^^^^^^^^^
  lib/screens/family/family_settings_screen.dart:643:12: Error: Field '_getTypeconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getTypeconst Icon(LedgerType type) {
             ^^^^^^^^^^^^^
  lib/ui/components/dashboard/budget_summary.dart:8:9: Error: Constructor is marked 'const' so all fields must be final.
    const BudgetSummary({super.key});
          ^
  lib/ui/components/dashboard/budget_summary.dart:411:12: Context: Field isn't final, but constructor is 'const'.
    IconData _getCategoryconst Icon(String? category) {
             ^
  lib/ui/components/dashboard/budget_summary.dart:411:12: Error: Field '_getCategoryconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getCategoryconst Icon(String? category) {
             ^^^^^^^^^^^^^^^^^
  lib/widgets/family_switcher.dart:11:9: Error: Constructor is marked 'const' so all fields must be final.
    const FamilySwitcher({super.key});
          ^
  lib/widgets/family_switcher.dart:358:12: Context: Field isn't final, but constructor is 'const'.
    IconData _getLedgerconst Icon(LedgerType type) {
             ^
  lib/widgets/family_switcher.dart:358:12: Error: Field '_getLedgerconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getLedgerconst Icon(LedgerType type) {
             ^^^^^^^^^^^^^^^
  lib/ui/components/transactions/transaction_list_item.dart:11:9: Error: Constructor is marked 'const' so all fields must be final.
    const TransactionListItem({
          ^
  lib/ui/components/transactions/transaction_list_item.dart:165:12: Context: Field isn't final, but constructor is 'const'.
    IconData _getconst Icon() {
             ^
  lib/ui/components/transactions/transaction_list_item.dart:165:12: Error: Field '_getconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getconst Icon() {
             ^^^^^^^^^
  lib/models/transaction.dart:192:12: Error: Field 'getCategoryconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData getCategoryconst Icon() {
             ^^^^^^^^^^^^^^^^
  lib/widgets/dialogs/create_family_dialog.dart:96:12: Error: Field '_getTypeconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getTypeconst Icon(LedgerType type) {
             ^^^^^^^^^^^^^
  lib/screens/management/crypto_selection_page.dart:88:10: Error: Field '_getCryptoconst' should be initialized because its type 'Widget' doesn't allow null.
   - 'Widget' is from 'package:flutter/src/widgets/framework.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/framework.dart').
    Widget _getCryptoconst Icon(String code) {
           ^^^^^^^^^^^^^^^
  lib/widgets/tag_create_dialog.dart:543:12: Error: Field '_getGroupconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getGroupconst Icon(String? iconKey) {
             ^^^^^^^^^^^^^^
  lib/widgets/tag_edit_dialog.dart:451:12: Error: Field '_getGroupconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getGroupconst Icon(String? iconKey) {
             ^^^^^^^^^^^^^^
  lib/screens/invitations/invitation_management_screen.dart:399:12: Error: Field '_getStatusconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getStatusconst Icon(InvitationStatus status) {
             ^^^^^^^^^^^^^^^
  lib/widgets/sheets/generate_invite_code_sheet.dart:488:12: Error: Field '_getRoleconst' should be initialized because its type 'IconData' doesn't allow null.
   - 'IconData' is from 'package:flutter/src/widgets/icon_data.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/icon_data.dart').
    IconData _getRoleconst Icon(family_model.FamilyRole role) {
             ^^^^^^^^^^^^^
  lib/ui/components/cards/transaction_card.dart:33:9: Error: Constructor is marked 'const' so all fields must be final.
    const TransactionCard({
          ^
  lib/ui/components/cards/transaction_card.dart:279:10: Context: Field isn't final, but constructor is 'const'.
    Widget _buildCategoryconst Icon(ThemeData theme) {
           ^
  lib/ui/components/cards/transaction_card.dart:279:10: Error: Field '_buildCategoryconst' should be initialized because its type 'Widget' doesn't allow null.
   - 'Widget' is from 'package:flutter/src/widgets/framework.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/widgets/framework.dart').
    Widget _buildCategoryconst Icon(ThemeData theme) {
           ^^^^^^^^^^^^^^^^^^^
  lib/screens/auth/login_screen.dart:347:37: Error: Constant evaluation error:
                                const Icon(
                                      ^
  lib/screens/auth/login_screen.dart:350:53: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                  color: Colors.orange[600],
                                                      ^
  lib/screens/auth/login_screen.dart:353:37: Error: Constant evaluation error:
                                const Text(
                                      ^
  lib/screens/auth/login_screen.dart:357:55: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                    color: Colors.orange[700],
                                                        ^
  lib/screens/auth/login_screen.dart:414:37: Error: Constant evaluation error:
                                const Text(
                                      ^
  lib/screens/auth/login_screen.dart:418:52: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                    color: Colors.red[600],
                                                     ^
  lib/screens/auth/login_screen.dart:424:37: Error: Constant evaluation error:
                                const Text(
                                      ^
  lib/screens/auth/login_screen.dart:428:55: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                    color: Colors.orange[600],
                                                        ^
  lib/screens/auth/login_screen.dart:487:40: Error: Constant evaluation error:
                            child: const Text(
                                         ^
  lib/screens/auth/login_screen.dart:490:49: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                color: Colors.grey[600],
                                                  ^
  lib/screens/auth/login_screen.dart:542:36: Error: Constant evaluation error:
                        child: const Text(
                                     ^
  lib/screens/auth/login_screen.dart:546:44: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                            color: Colors.red[600],
                                             ^
  lib/screens/auth/login_screen.dart:564:39: Error: Constant evaluation error:
                                  const Icon(Icons.info,
                                        ^
  lib/screens/auth/login_screen.dart:565:55: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                      color: Colors.blue[700], size: 16),
                                                        ^
  lib/screens/auth/register_screen.dart:356:40: Error: Constant evaluation error:
                            child: const Text(
                                         ^
  lib/screens/auth/register_screen.dart:359:49: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                color: Colors.grey[600],
                                                  ^
  lib/screens/auth/registration_wizard.dart:340:19: Error: Constant evaluation error:
              const Text(
                    ^
  lib/screens/auth/registration_wizard.dart:344:35: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  color: Colors.grey[400],
                                    ^
  lib/screens/auth/registration_wizard.dart:356:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.person, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:356:72: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.person, color: Colors.grey[400]),
                                                                         ^
  lib/screens/auth/registration_wizard.dart:388:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.email, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:388:71: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.email, color: Colors.grey[400]),
                                                                        ^
  lib/screens/auth/registration_wizard.dart:422:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.lock, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:422:70: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.lock, color: Colors.grey[400]),
                                                                       ^
  lib/screens/auth/registration_wizard.dart:474:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.lock_outline, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:474:78: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.lock_outline, color: Colors.grey[400]),
                                                                               ^
  lib/screens/auth/registration_wizard.dart:535:34: Error: Constant evaluation error:
                      child: const Text(
                                   ^
  lib/screens/auth/registration_wizard.dart:537:58: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                        style: TextStyle(color: Colors.grey[400], fontSize: 14),
                                                           ^
  lib/screens/auth/registration_wizard.dart:566:19: Error: Constant evaluation error:
              const Text(
                    ^
  lib/screens/auth/registration_wizard.dart:570:35: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  color: Colors.grey[400],
                                    ^
  lib/screens/auth/registration_wizard.dart:602:33: Error: Constant evaluation error:
                            const Icon(
                                  ^
  lib/screens/auth/registration_wizard.dart:605:47: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                              color: Colors.grey[600],
                                                ^
  lib/screens/auth/registration_wizard.dart:617:28: Error: Constant evaluation error:
                label: const Text(
                             ^
  lib/screens/auth/registration_wizard.dart:619:52: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  style: TextStyle(color: Colors.grey[300]),
                                                     ^
  lib/screens/auth/registration_wizard.dart:631:19: Error: Constant evaluation error:
              const Text(
                    ^
  lib/screens/auth/registration_wizard.dart:635:35: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  color: Colors.grey[600],
                                    ^
  lib/screens/auth/registration_wizard.dart:650:25: Error: Constant evaluation error:
                    const Icon(Icons.info_outline, color: Colors.blue[400], size: 20),
                          ^
  lib/screens/auth/registration_wizard.dart:650:68: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                    const Icon(Icons.info_outline, color: Colors.blue[400], size: 20),
                                                                     ^
  lib/screens/auth/registration_wizard.dart:653:34: Error: Constant evaluation error:
                      child: const Text(
                                   ^
  lib/screens/auth/registration_wizard.dart:656:43: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                          color: Colors.grey[400],
                                            ^
  lib/screens/auth/registration_wizard.dart:687:19: Error: Constant evaluation error:
              const Text(
                    ^
  lib/screens/auth/registration_wizard.dart:691:35: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  color: Colors.grey[400],
                                    ^
  lib/screens/auth/registration_wizard.dart:707:25: Error: Constant evaluation error:
                    const Text(
                          ^
  lib/screens/auth/registration_wizard.dart:710:41: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                        color: Colors.grey[500],
                                          ^
  lib/screens/auth/registration_wizard.dart:753:19: Error: Constant evaluation error:
              const Text(
                    ^
  lib/screens/auth/registration_wizard.dart:756:35: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  color: Colors.grey[500],
                                    ^
  lib/screens/auth/registration_wizard.dart:768:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.public, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:768:72: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.public, color: Colors.grey[400]),
                                                                         ^
  lib/screens/auth/registration_wizard.dart:799:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.attach_money, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:799:78: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.attach_money, color: Colors.grey[400]),
                                                                               ^
  lib/screens/auth/registration_wizard.dart:828:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.language, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:828:74: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.language, color: Colors.grey[400]),
                                                                           ^
  lib/screens/auth/registration_wizard.dart:857:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.access_time, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:857:77: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.access_time, color: Colors.grey[400]),
                                                                              ^
  lib/screens/auth/registration_wizard.dart:887:35: Error: Constant evaluation error:
                  prefixIcon: const Icon(Icons.calendar_today, color: Colors.grey[400]),
                                    ^
  lib/screens/auth/registration_wizard.dart:887:80: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                  prefixIcon: const Icon(Icons.calendar_today, color: Colors.grey[400]),
                                                                                 ^
  lib/screens/accounts/accounts_screen.dart:121:17: Error: Constant evaluation error:
            const Icon(
                  ^
  lib/screens/accounts/accounts_screen.dart:124:31: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
              color: Colors.grey[300],
                                ^
  lib/screens/accounts/accounts_screen.dart:127:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/accounts/accounts_screen.dart:132:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[700],
                                  ^
  lib/screens/accounts/accounts_screen.dart:136:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/accounts/accounts_screen.dart:140:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[600],
                                  ^
  lib/screens/accounts/accounts_screen.dart:289:43: Error: Not a constant expression.
                account.displayAccountNumber!,
                                            ^
  lib/screens/budgets/budgets_screen.dart:213:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/budgets/budgets_screen.dart:218:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[700],
                                  ^
  lib/screens/budgets/budgets_screen.dart:222:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/budgets/budgets_screen.dart:226:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[600],
                                  ^
  lib/screens/budgets/budgets_screen.dart:253:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/budgets/budgets_screen.dart:258:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[700],
                                  ^
  lib/screens/budgets/budgets_screen.dart:262:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/budgets/budgets_screen.dart:266:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[600],
                                  ^
  lib/screens/settings/settings_screen.dart:701:33: Error: Not a constant expression.
                currency['symbol']!,
                                  ^
  lib/screens/settings/settings_screen.dart:704:47: Error: Not a constant expression.
              title: const Text(currency['name']!),
                                                ^
  lib/screens/settings/settings_screen.dart:705:50: Error: Not a constant expression.
              subtitle: const Text(currency['code']!),
                                                   ^
  lib/screens/settings/profile_settings_screen.dart:714:39: Error: Constant evaluation error:
                                ? const Icon(
                                        ^
  lib/screens/settings/profile_settings_screen.dart:717:53: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                    color: Colors.grey[400],
                                                      ^
  lib/screens/settings/profile_settings_screen.dart:724:66: Error: Not a constant expression.
                                              _selectedSystemAvatar!['icon']
                                                                   ^
  lib/screens/settings/profile_settings_screen.dart:776:25: Error: Constant evaluation error:
                    const Text(
                          ^
  lib/screens/settings/profile_settings_screen.dart:779:41: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                        color: Colors.grey[600],
                                          ^
  lib/screens/settings/profile_settings_screen.dart:877:31: Error: Constant evaluation error:
                          const Text(
                                ^
  lib/screens/settings/profile_settings_screen.dart:880:47: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                              color: Colors.blue[600],
                                                ^
  lib/screens/management/currency_management_page_v2.dart:552:35: Error: Constant evaluation error:
                              const Icon(Icons.chevron_right, color: Colors.amber[700]),
                                    ^
  lib/screens/management/currency_management_page_v2.dart:552:80: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                              const Icon(Icons.chevron_right, color: Colors.amber[700]),
                                                                                 ^
  lib/screens/management/currency_management_page_v2.dart:702:41: Error: Constant evaluation error:
                          subtitle: const Text(
                                          ^
  lib/screens/management/currency_management_page_v2.dart:705:73: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                TextStyle(fontSize: 12, color: Colors.grey[600]),
                                                                          ^
  lib/screens/management/currency_management_page_v2.dart:726:43: Error: Constant evaluation error:
                            subtitle: const Text(
                                            ^
  lib/screens/management/currency_management_page_v2.dart:729:65: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                  fontSize: 12, color: Colors.grey[600]),
                                                                  ^
  lib/screens/management/currency_management_page_v2.dart:770:39: Error: Constant evaluation error:
                        subtitle: const Text(
                                        ^
  lib/screens/management/currency_management_page_v2.dart:772:74: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                          style: TextStyle(fontSize: 12, color: Colors.grey[600]),
                                                                           ^
  lib/screens/management/currency_management_page_v2.dart:790:39: Error: Constant evaluation error:
                        subtitle: const Text(
                                        ^
  lib/screens/management/currency_management_page_v2.dart:792:74: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                          style: TextStyle(fontSize: 12, color: Colors.grey[600]),
                                                                           ^
  lib/screens/management/currency_management_page_v2.dart:882:33: Error: Constant evaluation error:
                            const Icon(Icons.sync, color: Colors.indigo[700], size: 20),
                                  ^
  lib/screens/management/currency_management_page_v2.dart:882:70: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                            const Icon(Icons.sync, color: Colors.indigo[700], size: 20),
                                                                       ^
  lib/screens/management/currency_management_page_v2.dart:1154:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/management/currency_management_page_v2.dart:1156:62: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
              style: TextStyle(fontSize: 12, color: Colors.grey[600]),
                                                               ^
  lib/screens/management/tag_management_page.dart:480:34: Error: Constant evaluation error:
                      child: const Icon(
                                   ^
  lib/screens/management/tag_management_page.dart:482:41: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                        color: Colors.grey[700],
                                          ^
  lib/screens/management/tag_management_page.dart:573:38: Error: Constant evaluation error:
                          child: const Text(
                                       ^
  lib/screens/management/tag_management_page.dart:576:47: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                              color: Colors.grey[500],
                                                ^
  lib/screens/family/family_members_screen.dart:265:31: Error: Constant evaluation error:
                          const Icon(
                                ^
  lib/screens/family/family_members_screen.dart:268:45: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                            color: Colors.grey[500],
                                              ^
  lib/screens/family/family_members_screen.dart:280:33: Error: Constant evaluation error:
                            const Icon(
                                  ^
  lib/screens/family/family_members_screen.dart:283:47: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                              color: Colors.grey[500],
                                                ^
  lib/screens/family/family_members_screen.dart:353:17: Error: Constant evaluation error:
            const Icon(
                  ^
  lib/screens/family/family_members_screen.dart:356:31: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
              color: Colors.grey[400],
                                ^
  lib/screens/family/family_members_screen.dart:359:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/family/family_members_screen.dart:363:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[600],
                                  ^
  lib/screens/family/family_members_screen.dart:367:17: Error: Constant evaluation error:
            const Text(
                  ^
  lib/screens/family/family_members_screen.dart:371:33: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                color: Colors.grey[500],
                                  ^
  lib/screens/family/family_dashboard_screen.dart:516:30: Error: Constant evaluation error:
                  child: const Text(
                               ^
  lib/screens/family/family_dashboard_screen.dart:518:54: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                    style: TextStyle(color: Colors.grey[500]),
                                                       ^
  lib/widgets/wechat_login_button.dart:171:37: Error: Not a constant expression.
                            weChatInfo!.nickname,
                                      ^
  lib/widgets/wechat_login_button.dart:175:40: Error: Not a constant expression.
                            '${weChatInfo!.country} ${weChatInfo!.province} ${weChatInfo!.city}',
                                         ^
  lib/ui/components/dashboard/account_overview.dart:98:21: Error: Constant evaluation error:
                const Text(
                      ^
  lib/ui/components/dashboard/account_overview.dart:102:37: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                    color: Colors.grey[600],
                                      ^
  lib/ui/components/dashboard/budget_summary.dart:108:21: Error: Constant evaluation error:
                const Text(
                      ^
  lib/ui/components/dashboard/budget_summary.dart:112:37: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                    color: Colors.grey[600],
                                      ^
  lib/ui/components/dashboard/budget_summary.dart:157:27: Error: Constant evaluation error:
                      const Text(
                            ^
  lib/ui/components/dashboard/budget_summary.dart:161:43: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                          color: Colors.grey[700],
                                            ^
  lib/ui/components/dashboard/budget_summary.dart:198:31: Error: Constant evaluation error:
                          const Text(
                                ^
  lib/ui/components/dashboard/budget_summary.dart:202:47: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                              color: Colors.grey[600],
                                                ^
  lib/ui/components/transactions/transaction_list_item.dart:119:48: Error: Not a constant expression.
                              transaction.account!,
                                                 ^
  lib/widgets/dialogs/invite_member_dialog.dart:344:39: Error: Constant evaluation error:
                                  const Icon(
                                        ^
  lib/widgets/dialogs/invite_member_dialog.dart:347:53: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                    color: Colors.blue[700],
                                                      ^
  lib/widgets/dialogs/invite_member_dialog.dart:350:39: Error: Constant evaluation error:
                                  const Text(
                                        ^
  lib/widgets/dialogs/invite_member_dialog.dart:355:55: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                      color: Colors.blue[700],
                                                        ^
  lib/screens/management/crypto_selection_page.dart:331:44: Error: Constant evaluation error:
                                child: const Text(
                                             ^
  lib/screens/management/crypto_selection_page.dart:335:55: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                    color: Colors.orange[800],
                                                        ^
  lib/screens/management/crypto_selection_page.dart:587:32: Error: Constant evaluation error:
                    child: const Text(
                                 ^
  lib/screens/management/crypto_selection_page.dart:591:43: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                        color: Colors.purple[700],
                                            ^
  lib/widgets/tag_create_dialog.dart:432:42: Error: Constant evaluation error:
                              child: const Text(
                                           ^
  lib/widgets/tag_create_dialog.dart:436:51: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                  color: Colors.grey[600],
                                                    ^
  lib/widgets/sheets/generate_invite_code_sheet.dart:396:43: Error: Not a constant expression.
                        _generatedInvitation!.email,
                                            ^
  lib/widgets/sheets/generate_invite_code_sheet.dart:419:49: Error: Not a constant expression.
                      '有效期: ${_generatedInvitation!.remainingTimeDescription}',
                                                  ^
  lib/widgets/sheets/generate_invite_code_sheet.dart:441:30: Error: Not a constant expression.
                    _inviteLink!,
                               ^
  lib/screens/auth/wechat_qr_screen.dart:206:43: Error: Constant evaluation error:
                                    ? const Icon(
                                            ^
  lib/screens/auth/wechat_qr_screen.dart:209:58: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                        color: Colors.green[600],
                                                           ^
  lib/screens/auth/wechat_qr_screen.dart:236:47: Error: Constant evaluation error:
                                          const Text(
                                                ^
  lib/screens/auth/wechat_qr_screen.dart:240:63: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                                              color: Colors.grey[600],
                                                                ^
  lib/screens/auth/wechat_register_form_screen.dart:333:29: Error: Constant evaluation error:
                        const Text(
                              ^
  lib/screens/auth/wechat_register_form_screen.dart:337:45: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                            color: Colors.grey[600],
                                              ^
  lib/screens/auth/wechat_register_form_screen.dart:430:35: Error: Constant evaluation error:
                              const Icon(Icons.info, color: Colors.blue[700], size: 16),
                                    ^
  lib/screens/auth/wechat_register_form_screen.dart:430:70: Context: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
   - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('../../../../../../../flutter-sdk/packages/flutter/lib/src/material/colors.dart').
                              const Icon(Icons.info, color: Colors.blue[700], size: 16),
                                                                       ^
  .

To run this test again: /Users/huazhou/flutter-sdk/bin/cache/dart-sdk/bin/dart test /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/widget_test.dart -p vm --plain-name 'loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/widget_test.dart'
00:02 +3 -2: loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_selection_page_test.dart [E]                                           
  Error: The Dart compiler exited unexpectedly.
  package:flutter_tools/src/base/common.dart 34:3  throwToolExit
  package:flutter_tools/src/compile.dart 910:11    DefaultResidentCompiler._compile.<fn>
  dart:async/zone.dart 1538:47                     _rootRunUnary
  dart:async/zone.dart 1429:19                     _CustomZone.runUnary
  dart:async/future_impl.dart 948:45               Future._propagateToListeners.handleValueCallback
  dart:async/future_impl.dart 977:13               Future._propagateToListeners
  dart:async/future_impl.dart 862:9                Future._propagateToListeners
  dart:async/future_impl.dart 720:5                Future._completeWithValue
  dart:async/future_impl.dart 804:7                Future._asyncCompleteWithValue.<fn>
  dart:async/zone.dart 1525:13                     _rootRun
  dart:async/zone.dart 1422:19                     _CustomZone.run
  dart:async/zone.dart 1321:7                      _CustomZone.runGuarded
  dart:async/zone.dart 1362:23                     _CustomZone.bindCallbackGuarded.<fn>
  dart:async/schedule_microtask.dart 40:35         _microtaskLoop
  dart:async/schedule_microtask.dart 49:5          _startMicrotaskLoop
  dart:isolate-patch/isolate_patch.dart 127:13     _runPendingImmediateCallback
  dart:isolate-patch/isolate_patch.dart 194:5      _RawReceivePort._handleMessage
  
00:04 +3 -2: loading /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart                                             00:04 +3 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: (setUpAll)                                         00:04 +3 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: ... combines rapid preference pushes and succeeds  00:04 +4 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: ... combines rapid preference pushes and succeeds  00:04 +4 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: failure stores pending then flush success clears it00:04 +4 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: failure stores pending then flush success clears it
Failed to push currency preferences (will persist pending): Exception: network
00:04 +5 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: failure stores pending then flush success clears it00:04 +5 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: startup flush clears preexisting pending           00:04 +6 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: startup flush clears preexisting pending           00:04 +6 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: (tearDownAll)                                      00:05 +6 -2: /Users/huazhou/Insync/hua.chau@outlook.com/OneDrive/应用/GitHub/jive-flutter-rust/jive-flutter/test/currency_preferences_sync_test.dart: (tearDownAll)                                      00:05 +6 -2: Some tests failed.                                                                                                                                                                        
